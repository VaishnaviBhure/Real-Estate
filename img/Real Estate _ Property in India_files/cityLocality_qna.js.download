var cityLocality=true;var currentBlockScroll=0;var browserNavigator=window.navigator.userAgent;var msie=browserNavigator.indexOf("MSIE ");var chrome=browserNavigator.indexOf("Chrome");var isRadiusSearch_qna="N";function initializeLoc_qna(c){var b=$("#"+c).val();var a=b.length;$("#"+c).attr("size",a);$(document).live("click",function(e){if($(e.target).is("#autoSuggestInputDiv"+c+", div .divContainer"+c+", div .selectedTextDiv"+c+", div .selectedTextDiv"+c+" img, #qna_keyword, .localityProjectKeyword, .localityKewordDropDown, #qna_keyword_suggest, #qna_keyword_suggest div, #qna_keyword_suggest .over, #qna_keyword_suggest div div, #qna_keyword_suggest div div span, #qna_keyword_suggest div .nonSelectEle, .locProjKeyCombineDropDown, #autoSuggestInputDivqna_keyword, #autoSuggestInputDivkeywordProj, #autoSuggestInputDivkeywordAgent, #propertyLocalityAlert, .localityKewordDropDown, #propertyLocalityAlert, div .compShowDiv"+c+", div #compSpan"+c+", .crossIcon, .propertySearch .active a, .projectSearch  .active a, .agentSearch  .active a")){if($("div .selectedTextDiv"+c).length==0){$("#qna_projectSocity").val("");$("#developerName_qna").val("")}}else{if($(".selectedTextDiv"+c).length>1){if(flag==false){if(localityArray&&localityArray.length>0){$(localityArray[0]).hide();$(localityArray[1]).hide()}if(parseInt($("#autoSuggestInputDiv"+c).css("height"))>inputDivInitialLength_qna){for(var d=0;d<$("div .selectedTextDiv"+c).length;d++){$("div .selectedTextDiv"+c).parent().slideUp(400)}showCompactView_qna(c)}}}}});$("#autoSuggestInputDiv"+c).live("click",function(d){d.stopPropagation();showWholeSearchList_qna(c);setIdWidthAuto_qna(c)});$("#qna_keyword").live({blur:function(){if($("div .selectedTextDiv"+c).length<1){$(this).css("width","95%")}}});$("#qna_keyword").keydown(function(d){try{srhKeywordDown_qna(d,"qna_keyword");setCityOnLoadAndChange_qna("qna_keyword","qna_bar_city")}catch(f){if(!(typeof window.errorHandler==="undefined")){errorHandler("searchForm","keyword keydown",f)}}});calForGhostTextView_qna(c)}function makeRunTimeNameContainer_qna(e,g){e.stopPropagation();if($("#"+g)&&$("#"+g).val()==""){$("#"+g).css("width","90px");if($("#"+g).attr("style")){if($("#isRadiusSearch_qna").val()!="Y"&&$("#developerName_qna").val()==""&&($("#localitySrpPage").val()!=="localitySrp"||$("#qna_localityName").val()=="")){$("#"+g).attr("placeholder","Add More...");$("#qna_keyword").addClass("noPlace")}else{$("#"+g).attr("placeholder","")}if($("#"+g).css("fontSize")=="12px"){$("#"+g).css("width","60px")}if($("#"+g).css("fontSize")=="14px"){$("#"+g).css("width","75px")}}if($("div .selectedTextDiv"+g).length==0){if($("#qna_bar_category").val()=="R"||$("#qna_bar_category").val()=="r"){$("#"+g).attr("placeholder","Enter City, Locality or Project")}else{$("#"+g).attr("placeholder","Enter City, Locality or Project")}}return}var f=$("#"+g).val();if(f==null||f=="Enter Landmark, Location or Project"||f==""||f=="add-more..."){return}var c="";if(g=="qna_keyword"){c=document.getElementById("qna_bar_city");city=$("#qna_bar_city").val();cityInnerHTML=$("#qna_qna_bar_city_name").val()}else{return}if(city==""||city=="*"){return}var b=$("#"+g).val().replace(/,\s*$/,"");var a=b.split(",");var d=a.length;if(a[d-1].trim()!=cityInnerHTML.trim()&&d>1){return}}function showWholeSearchList_qna(b){if(typeof localityArray!=="undefined"&&localityArray.length>1){$(localityArray[0]).hide();$(localityArray[1]).hide()}flag=false;if($("div .selectedTextDiv"+b).length==1){setIdWidthAuto_qna(b)}for(var a=0;a<$("div .selectedTextDiv"+b).length;a++){$("div .selectedTextDiv"+b).parent().slideDown(400)}}function showCompactView_qna(g){$(".divContainerCom"+g).remove();$(".compShowDiv"+g).remove();$("#compSpan"+g).remove();localityArray=new Array();var f=$("div .selectedTextDiv"+g).eq(0).html();compShowContainer=document.createElement("div");compShowContainer.className="divContainerCom"+g+" localityKeywordParent";localityArray.push(compShowContainer);var a=document.createElement("div");a.className="compShowDiv"+g+" localityKeywordCompact";a.innerHTML=f;compHideCaontainer=document.createElement("div");compHideCaontainer.className="localityKeywordParent";localityArray.push(compHideCaontainer);var d=document.createElement("div");d.id="compSpan"+g;d.className="localityAddedOption";var e=$("div .selectedTextDiv"+g).length-1;$("div .divContainer"+g).last().after(compHideCaontainer).after(compShowContainer);if(document.getElementById(g).value==""){if($("#"+g).attr("style")){if($("#isRadiusSearch_qna").val()!="Y"&&$("#developerName_qna").val()==""&&($("#localitySrpPage").val()!=="localitySrp"||$("#qna_localityName").val()=="")){$("#"+g).attr("placeholder","Add More...");$("#qna_keyword").addClass("noPlace")}else{$("#"+g).attr("placeholder","")}if($("#"+g).css("fontSize")=="12px"){$("#"+g).css("width","60px")}if($("#"+g).css("fontSize")=="14px"){$("#"+g).css("width","75px")}}if($("div .selectedTextDiv"+g).length==0){if($("#qna_bar_category").val()=="R"||$("#qna_bar_category").val()=="r"){$("#"+g).attr("placeholder","Enter City, Locality or Project")}else{$("#"+g).attr("placeholder","Enter City, Locality or Project")}}}flag=true;var c=$(compHideCaontainer).css("marginTop");compShowContainer.appendChild(a);if(e>0){var b="+"+e;d.innerHTML=b;compHideCaontainer.appendChild(d)}$(".divContainerCom"+g).css("display","none").delay(400).slideDown(0);$("#compSpan"+g).css("display","none").delay(400).slideDown(0);setTimeout(function(){setIdWidthAuto_qna(g)},410)}function validateCity(a,b){setCityIfNotExists_qna(a,b);var b=document.getElementById(b).value;if(b=="*"||b==""){document.getElementById("bar_cityErrDivMsg").value="Please enter a city to continue";document.getElementById("bar_cityErrDivMsg").innerHTML="Please enter a city to continue";document.getElementById("bar_cityErrDivMsg").style.display="block";return false}else{document.getElementById("bar_cityErrDivMsg").style.display="none";return true}}function createCommaSeparatedInputInForm_qna(c,b,f){if(isRadiusSearch_qna=="Y"||$("#isRadiusSearch_qna").val()=="Y"){$("#qna_localityName").val("");$("#qna_keyword").val("");return true}$("#"+f+"_name").val($("#"+f+"_name").val().replace("&amp;","and"));$("#"+f+"_name").val($("#"+f+"_name").val().replace("&","and"));_gaq.push(["_trackEvent","UserText = "+$("#"+c).val(),"CityLocality"]);var d="";var a=true;var e=contextPath+"ajax/findLocalitiesInFreeTextBox.json?freeText="+$("#"+c).val()+"&cityId="+$("#"+f).val();$.ajax({dataType:"json",type:"get",url:e,cache:true,async:false,success:function(k){if(k!=null&&k.DUPLICATE_LOCALITY_PROJECT!=null){var l=k.DUPLICATE_LOCALITY_PROJECT;cityHtml="<div class='locProjDuplicate' onclick = \"putValInLocProjAndCallSearch_qna('"+l+"','qna_localityName','"+c+"')\">"+l+"    Location</div>";cityHtml+="<div class='locProjDuplicate' onclick = \"putValInLocProjAndCallSearch_qna('"+l+"','qna_projectSocity','"+c+"')\">"+l+"    Project</div>";if($(".moreThanOneCity")){$(".moreThanOneCity").remove()}if($(".moreThanOneCityBr")){$(".moreThanOneCityBr").remove()}if($(".locProjDuplicate")){$(".locProjDuplicate").remove()}a=false;$("#localityProjectDuplicate"+c).append(cityHtml);$("#localityProjectDuplicate"+c).show();$("#btnPropertySearch").attr("disabled",false);$("#btnPropertySearch").val("Search")}else{if(k!=null&&k.FINAL_KEYWORD!=null){$("#"+c).val(k.FINAL_KEYWORD);var h=k.LOCALITY_LIST;for(var g=0;g<h.length;g++){if(d==""){d=h[g]}else{d=d+","+h[g]}}var j=$("#qna_localityName").val();console.log("localityValue: "+j);if(j==""){$("#qna_localityName").val(d)}else{$("#qna_localityName").val(j+","+d)}}}}});return a}function setCityOnLoadAndChange_qna(c,f){var e=$("div .selectedTextDiv"+c);var a=document.getElementById(c).value.trim();var d=$("#"+f).val();if((e==null||e.length==0)&&(a==""||a=="Enter Landmark, Location or Project"||a=="Add More...")){document.getElementById(f).value="";document.getElementById(f+"_name").value="";document.getElementById(c).value="";$("#qna_radius").val("");if($("div .selectedTextDiv"+c).length==0){$("#qna_projectSocity").val("");$("#developerName_qna").val("")}return}if(typeof cityName!=="undefined"){if(cityName!=null&&cityName!=""){var b=cityName;document.getElementById(f+"_name").value=b}}}function addProjectsToSpan_qna(n,m){$("#"+n).parent().find(".divContainer"+n).remove();if($("#isRadiusSearch_qna").val()=="Y"){var h=$("#hiddenTextField"+n).val();var k=$("#searchLocName").val().split(", India");var e=k[0].split(",India");createComboDivsProperty_qna(e[0]+",India",n,"searchLocName");$("#searchLocName").val(e[0]+",India");globalCityLocKey=$("#searchLocName").val();if($("#isMapSearch").val()!=true&&$("#isMapSearch").val()!="true"){$("#propertiesWithinBar").css("display","block");$("#sort8").css("display","block")}var l=readCookieVal("gaqCompleteCookie");if(l==null){var o=createGaqStringForHome(1,m);createCookieExpiresInTimeInDays("gaqCompleteCookie",o,200);console.log("gaqCookieDetail "+o);if(_gaq){_gaq.push(["_trackEvent",o,"HomePageSearch"])}}else{var b=replaceValueInGaqCookie("sequenceNum",null,"gaqCompleteCookie","||","Y");var o=createGaqStringForHome(b,m);createCookieExpiresInTimeInDays("gaqCompleteCookie",o,200);console.log("gaqCookieDetail "+o);if(_gaq){_gaq.push(["_trackEvent",o,"HomePageSearch"])}}if(_gaq){_gaq.push(["_trackEvent","SearchLocName = "+$("#searchLocName").val()+"|SearchLocType = "+$("#searchLocType").val()+"|SearchLocTransMode = "+$("#searchTransMode").val()+"|SearchLocTime = "+$("#searchLocTime").val(),"Search Travel Time"])}return}var g=$("#"+m).val().replace(/,\s*$/,"").split(",");var a=$("#qna_projectSocity").val().replace(/,\s*$/,"").split(",");var d=$("#developerName_qna").val().replace(/,\s*$/,"").split(",");$("#qna_keyword").removeClass("noPlace");for(var f=0;f<a.length;f++){if(a[f]!="Add More..."&&a[f]!="Enter Landmark, Location or Project"&&a[f].trim()!=""){createComboDivsProperty_qna(a[f],n,"qna_projectSocity");$("#"+n).addClass("noPlace")}}for(var f=0;f<d.length;f++){if(d[f]!="Add More..."&&d[f]!="Enter Landmark, Location or Project"&&d[f].trim()!=""){createComboDivsProperty_qna(d[f],n,"developerName");$("#"+n).addClass("noPlace")}}for(var c=0;c<g.length;c++){if(g[c]!="Add More..."&&g[c]!="Enter Landmark, Location or Project"&&g[c].trim()!=""){if($("#nearByLocDisBar").css("display")=="none"&&$("#isRadiusSearch_qna").val()!="Y"){$("#nearByLocDisBar").css("display","block")}createComboDivsProperty_qna(g[c],n,"qna_localityName");$("#"+n).addClass("noPlace")}}if(a.length==1&&a[0]==""&&g.length==1&&g[0]==""&&d.length==1&&d[0]==""&&$("#qna_bar_city_name").val()!=null&&$("#qna_bar_city_name").val()!=""){createComboDivsProperty_qna($("#qna_bar_city_name").val(),n,"qna_bar_city_name");$("#"+n).addClass("noPlace")}}function addProjectsToSpanForRefine_qna(k,j){$("#"+k).parent().find(".divContainer"+k).remove();if($("#isRadiusSearch_qna").val()=="Y"&&$(".selectedTextDiv"+k).length==0){var d=$("#hiddenTextField"+k).val();var e=$("#searchLocName").val().split(", India");var a=e[0].split(",India");createComboDivsProperty_qna(a[0]+",India",k);$("#searchLocName").val(a[0]+",India");globalCityLocKey=$("#searchLocName").val();if($("#isMapSearch").val()!=true&&$("#isMapSearch").val()!="true"){$("#propertiesWithinBar").css("display","block");$("#sort8").css("display","block")}if(_gaq){_gaq.push(["_trackEvent","SearchLocName = "+$("#searchLocName").val()+"|SearchLocType = "+$("#searchLocType").val()+"|SearchLocTransMode = "+$("#searchTransMode").val()+"|SearchLocTime = "+$("#searchLocTime").val(),"Search Travel Time"])}return}var c=$("#"+j).val().replace(/,\s*$/,"").split(",");var g=$("#qna_projectSocity").val().split(",");if(g!=""&&g[0]!=""){for(var b=0;b<g.length;b++){createComboDivsProperty_qna(g[b],k,"qna_projectSocity")}}var h=$("#developerName_qna").val().split(",");if(h!=""&&h[0]!=""){for(var b=0;b<h.length;b++){createComboDivsProperty_qna(h[b],k,"developerName")}}if(c!=""&&c[0]!==""){for(var b=0;b<c.length;b++){createComboDivsProperty_qna(c[b],k,"qna_localityName");if($("#isRadiusSearch_qna").val()!="Y"){$("#nearByLocDisBar").css("display","block")}}}if(g.length==1&&g[0]==""&&c.length==1&&c[0]==""&&h.length==1&&h[0]==""){if($("#qna_bar_city_name").val()==""){var f=contextPath+"ajax/getDescriptionFromCode.json?cityCode="+$("#qna_bar_city").val();$.ajax({dataType:"json",type:"get",url:f,cache:true,async:false,success:function(i){$("#qna_bar_city_name").val(i.DESCRIPTION)}})}createComboDivsProperty_qna($("#qna_bar_city_name").val(),k)}}function createComboDivsProperty_qna(d,c,a){try{if(d.trim()==""||d.trim()=="Add More..."||d.trim()=="Enter Landmark, Location or Project"){return}$("#"+c).css("display","none");$("#propertyLocalityAlert").css("display","none");divContainer=document.createElement("div");selectedTextDiv=document.createElement("div");createCrossDiv=document.createElement("div");createCrossDiv.className="crossIcon";createCrossDiv.onclick=function(){this.parentElement.parentElement.removeChild(this.parentElement);removeDataUsingType_qna(a,d);setIdWidthAuto_qna(c);if($("div .selectedTextDiv"+c).length<1){$("#qna_projectSocity").val("");$("#developerName_qna").val("");isRadiusSearch_qna="N";$("#isRadiusSearch_qna").val("N");$("#homeTravelTimer").hide();$("#qna_radius").val("")}if($(".divContainer"+c).size()<1){$("#"+c).removeAttr("style");if(!(typeof is_qna_screen_loaded=="undefined")&&is_qna_screen_loaded){createCommaSeparatedInputInForm_qna("qna_keyword","qna_localityName","qna_bar_city")}}else{if(!(typeof is_qna_screen_loaded=="undefined")&&is_qna_screen_loaded){createCommaSeparatedInputInForm_qna("qna_keyword","qna_localityName","qna_bar_city")}}if($("div .selectedTextDiv"+c).length<1){$("#"+c).removeAttr("style");if($("#qna_bar_category").val()=="R"||$("#qna_bar_category").val()=="r"){$("#"+c).attr("placeholder","Enter City, Locality or Project")}else{$("#"+c).attr("placeholder","Enter City, Locality or Project")}$("#"+c).removeClass("noPlace");toCallSearch=true;toCallGoogleAutoSuggest=true;isRadiusSearch_qna="N";$("#isRadiusSearch_qna").val("N");$("#homeTravelTimer").hide();$("#propertiesWithinBar").css("display","none");if($("#sort0").html()=="Nearest"){$("#sort1").click()}$("#sort8").css("display","none");setCityOnLoadAndChange_qna(c,"qna_bar_city");if($("#"+c).val()==""){$("#nearByLocDisBar").css("display","none")}}setIdWidthAuto_qna(c)};divContainer.className="divContainer"+c+" localityKeywordParent";selectedTextDiv.className="selectedTextDiv"+c+" localityKeywordNames";selectedTextDiv.innerHTML=d.replace(/,\s*$/,"");selectedTextDiv.setAttribute("title",d.replace(/,\s*$/,""));selectedTextDiv.setAttribute("data-box",d.replace(/,\s*$/,"")+"--"+a);divContainer.appendChild(selectedTextDiv);divContainer.appendChild(createCrossDiv);$("#autoSuggestInputDiv"+c).append(divContainer).append($("#"+c));$("#"+c).css("display","block");keywordPosTop=($("#"+c).css("marginTop"));keywordPosLeft=($("#"+c).css("marginLeft"));$("#"+c).css("width","90px");if($("#"+c).attr("style")){if($("#isRadiusSearch_qna").val()!="Y"&&$("#developerName_qna").val()==""&&($("#localitySrpPage").val()!=="localitySrp"||$("#qna_localityName").val()=="")){$("#"+c).attr("placeholder","Add More...");$("#qna_keyword").addClass("noPlace")}else{$("#"+c).attr("placeholder","")}if($("#"+c).css("fontSize")=="12px"){$("#"+c).css("width","60px")}if($("#"+c).css("fontSize")=="14px"){$("#"+c).css("width","75px")}}if(c=="qna_keyword"){if(msie>0||!!navigator.userAgent.match(/Trident.*rv\:11\./)||chrome>0){$("#"+c).trigger("click")}}setIdWidthAuto_qna(c)}catch(b){if(!(typeof window.errorHandler==="undefined")){errorHandler("cityLocality.js","createComboDiv",b)}}}function createComboDivsFromKeywordSuggest_qna(b,f,a){$("#qna_keyword_suggest").hide();var c=b.split(",");var e=c[0].trim();$("#"+f).css("display","none");$("#propertyLocalityAlert").css("display","none");b=b.replace("&amp;","&");addDataUsingType_qna(a,e);divContainer=document.createElement("div");selectedTextDiv=document.createElement("div");createCrossDiv=document.createElement("div");createCrossDiv.className="crossIcon";createCrossDiv.onclick=function(){this.parentElement.parentElement.removeChild(this.parentElement);removeDataUsingType_qna(a,e);setIdWidthAuto_qna(f);if($("div .selectedTextDiv"+f).length<1){$("#"+f).removeClass("noPlace");$("#qna_projectSocity").val("");$("#developerName_qna").val("");$("#isRadiusSearch_qna").val("N");$("#homeTravelTimer").hide();$("#qna_radius").val("")}if($(".divContainer"+f).size()<1){$("#"+f).removeAttr("style")}else{if(!(typeof is_qna_screen_loaded=="undefined")&&is_qna_screen_loaded){createCommaSeparatedInputInForm_qna("qna_keyword","qna_localityName","qna_bar_city")}}if($("div .selectedTextDiv"+f).length<1){$("#"+f).removeAttr("style");if($("#qna_bar_category").val()=="R"||$("#qna_bar_category").val()=="r"){$("#"+f).attr("placeholder","Enter City, Locality or Project")}else{$("#"+f).attr("placeholder","Enter City, Locality or Project")}toCallSearch=true;toCallGoogleAutoSuggest=true;isRadiusSearch_qna="N";$("#isRadiusSearch_qna").val("N");$("#homeTravelTimer").hide();$("#propertiesWithinBar").css("display","none");if($("#sort0").html()=="Nearest"){$("#sort1").click()}$("#sort8").css("display","none");setCityOnLoadAndChange_qna(f,"qna_bar_city");if($("#"+f).val()==""){$("#nearByLocDisBar").css("display","none")}}};divContainer.className="divContainer"+f+" localityKeywordParent";selectedTextDiv.className="selectedTextDiv"+f+" localityKeywordNames";selectedTextDiv.innerHTML=e.replace(/,\s*$/,"");selectedTextDiv.setAttribute("title",e.replace(/,\s*$/,""));selectedTextDiv.setAttribute("data-box",e.replace(/,\s*$/,"")+"--"+a);divContainer.appendChild(selectedTextDiv);divContainer.appendChild(createCrossDiv);$("#autoSuggestInputDiv"+f).append(divContainer).append($("#"+f));$("#"+f).css("display","block");$("#"+f).css("width","90px");keywordPosTop=($("#qna_keyword").css("marginTop"));keywordPosLeft=($("#qna_keyword").css("marginLeft"));$("#"+f).val("");if($("#isRadiusSearch_qna").val()!="Y"&&$("#developerName_qna").val()==""&&($("#localitySrpPage").val()!=="localitySrp"||$("#qna_localityName").val()=="")){$("#"+f).attr("placeholder","Add More...");$("#qna_keyword").addClass("noPlace")}else{$("#"+f).attr("placeholder","")}if($("#"+f).css("fontSize")=="12px"){$("#"+f).css("width","60px")}if($("#"+f).css("fontSize")=="14px"){$("#"+f).css("width","75px")}if(f=="qna_keyword"){if(msie>0||!!navigator.userAgent.match(/Trident.*rv\:11\./)||chrome>0){$("#"+f).trigger("click")}}var d=typeof InstallTrigger!=="undefined";if(!(typeof is_qna_screen_loaded=="undefined")&&is_qna_screen_loaded&&d){createCommaSeparatedInputInForm_qna("qna_keyword","qna_localityName","qna_bar_city")}setIdWidthAuto_qna(f);if(f!="qna_keyword"&&a=="qna_bar_city_name"&&$(".divContainer"+f).size()==1){setTimeout(function(){createPopularLocalityData_qna()},30)}}function createPopularLocalityData_qna(){var a="S";if($("#qna_bar_category").val()=="R"||$("#qna_bar_category").val()=="r"){a="R"}if(!($(".divContainerkeyword").size()==1&&$("#qna_localityName").val()==""&&$("#qna_projectSocity").val()==""&&$("#developerName_qna").val()==""&&$("qna_bar_city").val()!="")){return}var b=contextPath+"ajax/getPopularLocalityData.json?city="+$("#qna_bar_city").val()+"&category="+a+"&cityName="+$("#qna_bar_city_name").val();$.ajax({dataType:"json",type:"get",url:b,cache:true,async:true,success:function(f){if(f==null){return}var e=f.toString();var c=e.split(",");if(c.length<2){return}$("#qna_keyword_suggest").html("");$("#qna_keyword_suggest").append('<div class="over"><div class="nonSelectEleLandmark">Popular Localities </div></div>');for(var d=0;d<c.length;d++){if(c[d]!=null){c[d]=bothSideTrimA(c[d]);$("#qna_keyword_suggest").append("<div class='googleSuggest' onclick='createComboDivsFromKeywordSuggest_qna(\""+c[d]+'","qna_keyword","qna_localityName");\'>'+c[d]+", "+$("#qna_bar_city_name").val()+"</div>")}}$("#qna_keyword_suggest").show();$("#qna_keyword_suggest").css({visibility:"visible"})}})}function removeDivEmpty_qna(a,b){if(a.keyCode==8){$("#"+b).parent().find(".divContainer"+b+":last").remove()}if($("div .selectedTextDiv"+b).length<1){$("#isRadiusSearch_qna").val("N");$("#qna_radius").val("");$("#qna_projectSocity").val("");$("#developerName_qna").val("");$("#searchLocName").val("")}}function removeElementOnTabChange_qna(){$(".localityKeywordParent").remove();$(".localityProjectKeyword").find("input").removeAttr("style")}function setCityIfNotExists_qna(e,d){if(isRadiusSearch_qna=="Y"||$("#isRadiusSearch_qna").val()=="Y"){return}document.getElementById("moreThanOneCityDiv"+e).style.display="none";if(document.getElementById(d).value==""||document.getElementById(d).value=="*"){var b=document.getElementById(e).value;var a=b.replace("&amp;","and");a=a.replace("&","and");var c=contextPath+"ajax/getCityParser.json?firstText="+a;$.ajax({dataType:"json",type:"get",url:c,cache:true,async:false,success:function(g){if(g.COUNT==1){if(g.CITY_SUBURB_USER_VALUES!=null){document.getElementById(d).value=g.CITY_SUBURB_CODES;var f=contextPath+"ajax/getCNDDescription.json?cityCode="+g.CITY_SUBURB_CODES;$.ajax({dataType:"json",type:"get",url:f,cache:true,async:false,success:function(h){if(h){document.getElementById(d+"_name").value=h}else{document.getElementById(d+"_name").value=g.CITY_SUBURB_ACTUAL_VALUES}if(e=="qna_keyword"&&$("#qna_prev_city").val()!=$("#qna_bar_city").val()&&$("#qna_bar_city").val()!=""){$("#qna_prev_city").val($("#qna_bar_city").val())}}})}}}})}}function setCityIfNotExistsOnFrameClick_qna(a,f,b){if(isRadiusSearch_qna=="Y"||$("#isRadiusSearch_qna").val()=="Y"){return}b=b.trim();b=b.replace(/,\s*$/,"");b=b.replace("&amp;","and");var i=b.replace(" & "," and ");var g=i.split(",");var d=g.length;document.getElementById("moreThanOneCityDiv"+a).style.display="none";var h=b;var c=h.replace("&amp;","and");c=c.replace("&","and");var e=contextPath+"ajax/getCityParserFromSuggest.json?firstText="+g[d-1].trim();$.ajax({url:e,dataType:"json",async:false,success:function(l){if(l.COUNT==1){if($("#"+f).val()!=l.CITY_SUBURB_CODES&&l.CITY_SUBURB_CODES!=null){var k=$("#"+f).val().split("-");if(k[0]!=l.CITY_SUBURB_CODES){$("#"+a).parent().find(".divContainer"+a).remove();if(l.CITY_SUBURB_USER_VALUES!=null){document.getElementById(f).value=l.CITY_SUBURB_CODES;var j=contextPath+"ajax/getCNDDescription.json?cityCode="+l.CITY_SUBURB_CODES;$.ajax({dataType:"json",type:"get",url:j,cache:true,async:false,success:function(m){if(m){document.getElementById(f+"_name").value=m}else{document.getElementById(f+"_name").value=l.CITY_SUBURB_ACTUAL_VALUES}}});if(a=="qna_keyword"&&$("#qna_prev_city").val()!=$("#qna_bar_city").val()&&$("#qna_bar_city").val()!=""){$("#qna_prev_city").val($("#qna_bar_city").val())}}}}}}})}function submitButtonCityCheck_qna(a,h,k){if(isRadiusSearch_qna=="Y"||$("#isRadiusSearch_qna").val()=="Y"){return true}var e=true;document.getElementById("moreThanOneCityDiv"+a).style.display="none";document.getElementById("errorMessageCity").style.display="none";document.getElementById("onlyLocation").style.display="none";document.getElementById("validLocation").style.display="none";$("#autoSuggestInputDivkeyword").removeClass("borderErrRed");if(document.getElementById(h).value==""||document.getElementById(h).value=="*"){var j=document.getElementById(a).value;var l=$("div .selectedTextDiv"+a);if(l!=null){var d=l.length;for(var f=0;f<d;f++){if(j!=""){j+=","+l.eq(f).html()}else{j=l.eq(f).html()}}}if(j==null||j==""||j=="Enter Landmark, Location or Project"||j=="Add More..."){if($("#errorMessageCity").is(":hidden")){document.getElementById("errorMessageCity").style.display="block";$(".orSearchBy").removeClass("moreSpace");if($("#"+a).val().trim()==""){document.getElementById("onlyLocation").style.display="block"}else{document.getElementById("validLocation").style.display="block"}}var b=document.getElementById("divIdFoundOnPage");if(b){_gaq.push(["_trackEvent","cityFieldError|Input = "+$("#"+b).val(),"CityLocality","DetailPage"])}else{_gaq.push(["_trackEvent","cityFieldError|Input = "+$("#"+a).val(),"CityLocality","HomePage"])}$("#autoSuggestInputDivkeyword").addClass("borderErrRed");e=false}var c=j.replace("&amp;","and");c=c.replace("&","and");var g=contextPath+"ajax/getCityParser.json?firstText="+c;$.ajax({dataType:"json",type:"get",url:g,cache:true,async:false,success:function(r){if(r.COUNT==1){if(r.CITY_SUBURB_USER_VALUES!=null){document.getElementById(h).value=r.CITY_SUBURB_CODES;var t=contextPath+"ajax/getCNDDescription.json?cityCode="+r.CITY_SUBURB_CODES;$.ajax({dataType:"json",type:"get",url:t,cache:true,async:true,success:function(i){if(i){document.getElementById(h+"_name").value=i}else{document.getElementById(h+"_name").value=r.CITY_SUBURB_ACTUAL_VALUES}}})}e=true}else{if(r.COUNT>1){if($(".moreThanOneCity")){$(".moreThanOneCity").remove()}if($(".moreThanOneCityBr")){$(".moreThanOneCityBr").remove()}if($(".locProjDuplicate")){$(".locProjDuplicate").remove()}var m="";var v=r.CITY_SUBURB_CODES;var p=[];for(var s=0;s<v.length;s++){var u=v[s];var w="CITY_CODE"+u;var q="cityList"+v[s];var n="";if(typeof r.LOCALITY_NAME!=="undefined"){n=r.LOCALITY_NAME+", "}m="<div class='moreThanOneCity' onmouseout='cityHoverOut_qna(this)' onmouseover='cityHover_qna(this);' onclick=\"callSubmitAfterSettingCity_qna("+v[s]+",'"+h+"','"+a+"','"+r[w]+"')\">"+n+r[w]+"</div>";$("#moreThanOneCityDiv"+a).append(m)}document.getElementById("moreThanOneCityDiv"+a).style.display="block";var o=document.getElementById("divIdFoundOnPage");if(o){_gaq.push(["_trackEvent","cityField","Clicked","DetailPage"])}else{_gaq.push(["_trackEvent","cityField","Clicked","HomePage"])}e=false}else{if($("#errorMessageCity").is(":hidden")){document.getElementById("errorMessageCity").style.display="block";if($("#"+a).val().trim()==""){$("#onlyLocation").show()}else{$("#validLocation").show()}}var o=document.getElementById("divIdFoundOnPage");if(o){_gaq.push(["_trackEvent","cityFieldError|Input = "+$("#"+o).val(),"CityLocality","DetailPage"])}else{_gaq.push(["_trackEvent","cityFieldError|Input = "+$("#"+a).val(),"CityLocality","HomePage"])}$("#autoSuggestInputDivkeyword").addClass("borderErrRed");e=false}}}})}else{return e}return e}function cityHover_qna(a){$(a).removeClass("cityHoverOuting");$(a).addClass("cityHovering")}function cityHoverOut_qna(a){$(a).removeClass("cityHovering");$(a).addClass("cityHoverOuting")}function callSubmitAfterSettingCity_qna(b,d,c,a){document.getElementById(d).value=b;document.getElementById(d+"_name").value=a;document.getElementById("moreThanOneCityDiv"+c).style.display="none";$("#"+c).val($("#"+c).val()+","+a);if(!(typeof is_qna_screen_loaded=="undefined")&&is_qna_screen_loaded){createCommaSeparatedInputInForm_qna("qna_keyword","qna_localityName","qna_bar_city")}}function setCityTitleAndCode_qna(c,a){if(document.getElementById(c)==null){return}var b=contextPath+"ajax/getDescriptionFromCode.json?cityCode="+a;$.ajax({dataType:"json",type:"get",url:b,cache:true,async:false,success:function(d){document.getElementById(c).value=a;document.getElementById(c).innerHTML=d.DESCRIPTION}})}function createStringIntoMapVal_qna(d,b,h){var f=new Object();if(d){if(d.indexOf(b)){var a=d.split(b);var g=a.length;for(var e=0;e<g;e++){var c=a[e].split(h);if(c){f[c[0]]=c[1]}}return f}else{var c=a[e].split(":");if(c){f[c[0]]=c[1]}return f}}else{return null}}function setIdWidthAuto_qna(i){try{var a=$("#"+i).parent().width();var h=$("#"+i).parent().find(".localityKeywordParent:visible:last").width();var c=0;if($("#"+i).parent().find(".localityKeywordParent:visible").length>0){c=$("#"+i).parent().find(".localityKeywordParent:visible:last").position().left}var b=h+c;var d=a-b;var g=90;if((d-15)>g){$("#"+i).width(d-15)}else{$("#"+i).css("width","95%")}}catch(f){if(!(typeof window.errorHandler==="undefined")){errorHandler("cityLocality.js","setIdWidthAuto",f)}}}function setRadius_qna(b){var a="";if($("#radiusVal").val()==b){return false}if(b!=null){$("#radiusVal").val(b);a=b.split(" km")[0].trim()+"000";var c=$("#radius").val();latLongRadiusValSplitted=c.split(",");$("#qna_radius").val(latLongRadiusValSplitted[0].trim()+","+latLongRadiusValSplitted[1].trim()+","+a);return true}return false}function findDefaultRadiusVal_qna(c){var b=5;if(c!=null){var a=c.split(",");if(a.length>2){b=parseInt(a[2])/1000}if(b>7||b==10||b=="10"){$("#radiusVal").val("7 km");$("#qna_radius").val(a[0]+","+a[1]+",7000");return}else{$("#radiusVal").val(b+" km");return}}$("#radiusVal").val(b+" km")}function removeDataUsingType_qna(b,a){if(b=="qna_localityName"||b=="qna_projectSocity"||b=="developerName"){var d="";var c=0;var g=$("#"+b).val();var f=g.split(",");for(var e=0;e<f.length;e++){if(c==0&&f[e]==a){c++}else{if(d==""){d=f[e]}else{d=d+","+f[e]}}}$("#"+b).val(d)}if(b=="searchLocName"){$("#"+b).val("")}}function addDataUsingType_qna(a,c){if(a=="qna_localityName"||a=="qna_projectSocity"||a=="developerName"){var b=$("#"+a).val();if(b==""){b=c}else{b=b+","+c}$("#"+a).val(b)}}function putValInLocProjAndCallSearch_qna(e,a,f){createComboDivsProperty_qna(e,f,a);var b=$("#"+a).val();if(b.trim()==""){b=e}else{b=b+","+e}$("#"+a).val(b);var c=$("#"+f).val();if(c.indexOf(",")>-1){var d=c.substring(c.indexOf(",")+1);$("#"+f).val(d)}else{$("#"+f).val("")}$("#localityProjectDuplicate"+f).hide();if($(".locProjDuplicate")){$(".locProjDuplicate").remove()}showWholeSearchList_qna(f)}function calForGhostTextView_qna(a){if($("div .selectedTextDiv"+a).length<1){$("#qna_keyword").css("width","95%")}}function srhKeywordDown_qna(b,d){$("#errorMessageCity").hide();if(b.keyCode==13){b.preventDefault()}$("#localityProjectDuplicatekeyword").hide();showWholeSearchList_qna(d);if((isRadiusSearch_qna=="Y"||$("#developerName_qna").val()!="")&&b.keyCode!=8){$("#"+d).val("");console.log("4");return}if(document.getElementById(d).value==""||document.getElementById(d).value=="Add More..."||document.getElementById(d).value=="Enter Location, Project or Landmark"){if(b.keyCode==8){var a=$("#"+d).parent().find(".divContainerqna_keyword:last").find(".selectedTextDivqna_keyword").attr("data-box");if(a!=null&&a!=""&&a.indexOf("--")>-1){var c=a.split("--");removeDataUsingType_qna(c[1],c[0])}$("#"+d).parent().find(".divContainerqna_keyword:last").remove();$("#"+d).val("");setIdWidthAuto(d)}if($("div .selectedTextDivqna_keyword").length==0){if($("#qna_bar_category").val()=="R"||$("#qna_bar_category").val()=="r"){$("#qna_keyword").attr("placeholder","Enter City, Locality or Project");$("#qna_keyword").removeClass("noPlace")}else{$("#qna_keyword").attr("placeholder","Enter City, Locality or Project");$("#qna_keyword").removeClass("noPlace")}toCallSearch=true;toCallGoogleAutoSuggest=true;isRadiusSearch_qna="N";$("#isRadiusSearch_qna").val("N");$("#searchLocTime").val("");$("#searchLocType").val("");$("#isRadiusSearch_qna").val("N");$("#homeTravelTimer").hide();$("#qna_keyword").removeAttr("style");$("#nearByLocDisBar").css("display","none")}}};
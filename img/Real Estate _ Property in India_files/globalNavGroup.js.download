var checkMouseLeave=true,checkMouseBlur=false;const mbHeaderWeb={version:"1.0.0",init:function(){this.addEvents();this.headerSwiper.viewMoreHide("rentDrop");this.headerSwiper.viewMoreHide("buyDrop")},addEvents:function(){var A=document.querySelectorAll(".js-menu-container");Array.prototype.forEach.call(A,function(B){B.addEventListener("mouseenter",function(D){D.stopPropagation();var C=document.querySelector(".js-menu-container.active");if(C){if(D.target!=C){mbHeaderWeb.openCloseAction(C,false)}}mbHeaderWeb.openCloseAction(D.target,true)})});Array.prototype.forEach.call(A,function(B){B.addEventListener("mouseleave",function(C){C.stopPropagation();mbHeaderWeb.openCloseAction(C.target,false)})})},openCloseAction:function(D,A){var B=D.querySelector(".js-menu-link");var C=D.querySelector(".js-menu-drop");if(A===true){B.classList.add("active");D.classList.add("active");C.classList.add("active");this.headerSwiper.call(C)}else{B.classList.remove("active");D.classList.remove("active");C.classList.remove("active")}},headerSwiper:{init:function(C,A,B){return new Swiper("#"+C+" .swiper-container",{direction:"horizontal",loop:false,lazy:true,simulateTouch:true,slidesPerView:A,spaceBetween:B,nextButton:"#"+C+" .swiper-button-next",prevButton:"#"+C+" .swiper-button-prev",on:{slideChange:function(D){console.log(D.realIndex);var F=D.realIndex;var E=$("#"+C+" .swiper-container .swiper-slide:eq("+F+")").hasClass("show-view-more");console.log("isViewMore :"+E);if(E==true&&!$("#"+C).hasClass("shownAll")){$("#"+C+"-view-more").addClass("active")}else{$("#"+C+"-view-more").removeClass("active")}}}})},call:function(B){if(!B.classList.contains("swiper-created")){var A=B.getAttribute("id");console.log("elementId:"+A);mbHeaderWeb.headerSwiper.init(A,1,1);B.classList.add("swiper-created")}},viewMoreHide:function(C){var A=$("#"+C).find(".swiper-container .swiper-slide .drop-links");var B=false;A.each(function(){var D=$(this).find("li");if(D.length>7){B=true;D.each(function(E){if(E>=6){$(this).addClass("hide")}});$(this).closest(".swiper-slide").addClass("show-view-more")}})},viewMoreShow:function(B){var A=$("#"+B).find(".swiper-container .swiper-slide .drop-links li.hide");$("#"+B).find("#"+B+"-view-more").removeClass("active");$("#"+B).addClass("shownAll");A.removeClass("hide")},},scrollStop:function(A){if(!A||typeof A!=="function"){return }var B;window.addEventListener("scroll",function(C){if(window.scrollY>100){document.querySelector(".mb-header__sub").classList.remove("active")}window.clearTimeout(B);B=setTimeout(function(){A()},66)},false)},scrollCallback:function(){document.querySelector(".mb-header__sub").classList.add("active");console.log("Scrolling has stopped.")},decFooterMore:function(){document.querySelector(".mb-footer__disclaimer__more").style.display="none";document.querySelector("#dec-ftr-more-content").style.display="inline"}};$(document).ready(function(){mbHeaderWeb.init()});function openBuyerDashBoard(D,C){var F=window.location;var A=String(F);var E=$("#domcache_constant").attr("data-domainurl")+"mbsearch/getBuyerDashBoardUrl.html";var B;$.ajax({dataType:"json",type:"get",url:E,async:true,success:function(G){if(G!=null&&G.url!=null){B=G.url}else{var I=readCookie("userNTrackId");B=$("#domcache_constant").attr("data-domainurl")+"/bricks/buyerDashboard.html?id="+I;var H=readCookie("userEmail");if(H!=null){B=B+"&emailId="+H}}if(C.includes("tab")){B=B+D}else{B=B+"&actionType="+D}var J=window.open(B,"_blank");J.focus()}})}function fireLoginGTM(D,B,C,A){D.preventDefault();if(typeof (window.MB_GTM_dataLayer)==="undefined"){window.MB_GTM_dataLayer=[]}MB_GTM_dataLayer.push({event:"event_tracking",eventName:"hp_top_nav",nonInteraction:false,description:C,eventCategory:"Top Navigation",eventAction:"Login",eventLabel:B,eventValue:0});if(!(typeof A==="undefined")&&A!==null&&A!==""){window.open(A,"_blank")}}function firePostPropertyGTM(B,A){B.preventDefault();if(typeof (window.MB_GTM_dataLayer)==="undefined"){window.MB_GTM_dataLayer=[]}window.MB_GTM_dataLayer.push({event:"event_tracking",eventName:"hp_post_property",nonInteraction:false,eventCategory:"HP-Post Property",eventAction:"CTA Clicked",eventLabel:"Post Property Free",eventValue:0});window.open(A,"_blank")}function fireChangeCityGTM(B,A,C){B.preventDefault();if(typeof (window.MB_GTM_dataLayer)==="undefined"){window.MB_GTM_dataLayer=[]}MB_GTM_dataLayer.push({event:"event_tracking",eventName:"hp_top_nav",description:"Change city",nonInteraction:false,eventCategory:"Top Navigation",eventAction:"change city",eventLabel:"from:"+cityName+"-to:"+C,eventValue:0,});window.open(A,"_self")}$(".drop-links li").click(function(){var C;var D;var A="Top Navigation";var F;var B;var E;C=this.innerText;if(typeof (this.parentNode.parentNode.getElementsByClassName("drop-heading")[0])==="undefined"){F="No subheading"}else{F=this.parentNode.parentNode.getElementsByClassName("drop-heading")[0].innerText}if(typeof (this.parentNode.parentNode.parentNode.parentNode.parentNode.getElementsByClassName("mb-header__sub__tabs__link js-menu-link")[0])==="undefined"){B=this.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.getElementsByClassName("mb-header__sub__tabs__link js-menu-link")[0].innerText}else{B=this.parentNode.parentNode.parentNode.parentNode.parentNode.getElementsByClassName("mb-header__sub__tabs__link js-menu-link")[0].innerText}D=B+" - "+F;E="web";MB_GTM_dataLayer.push({event:"event_tracking",eventName:"new_top_nav_"+E,nonInteraction:false,eventCategory:A,eventAction:D,eventLabel:C,})});const mbFooterWeb={version:"1.0.0",init:function(){},decFooterMore:function(){document.querySelector(".mb-footer__disclaimer__more").style.display="none";document.querySelector("#dec-ftr-more-content").style.display="inline"},fireFooterGTM:function(C,B,A){C.preventDefault();if(typeof (window.MB_GTM_dataLayer)==="undefined"){window.MB_GTM_dataLayer=[]}MB_GTM_dataLayer.push({event:"event_tracking",eventName:"hp_footer",description:"Project Clicked",nonInteraction:false,eventCategory:"Footer",eventAction:B,eventLabel:A,eventValue:0});window.open(A,"_self")},fireAppAndSocialMediaGTM:function(D,B,C,A){D.preventDefault();if(typeof (window.MB_GTM_dataLayer)==="undefined"){window.MB_GTM_dataLayer=[]}MB_GTM_dataLayer.push({event:"event_tracking",eventName:B,nonInteraction:false,eventCategory:"footer",eventAction:C,eventLabel:A,eventValue:0});if(!(typeof A==="undefined")&&A!==null&&A!==""){window.open(A,"_blank")}},feedbackPopup:function(C){var D=window.open(C,"myFeedback","location=0, toolbar=0, status=0, scrollbars=1, width=950, height=720");D.focus()}};
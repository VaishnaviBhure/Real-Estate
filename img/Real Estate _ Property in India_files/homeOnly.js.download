var contactFormBeanOnLoad=new Object();var userDefaultMobileCountry="50";var tempTelCountry="50";var tempTelStCode="";var rightPanelBorderShow=false;var localityComeScore=null;var customBudgetRevemt=true;var globalHideVar=false;var tempName="";var tempEmail="";var tempMobile="";var tempTel="";var tempUserType="";var tempMessage="";function setContactRelatedData(k,a,g,j,c,h,f,e,d,b){if(k){isUserLoggedIn=true;tempName=k;tempEmail=a;tempMobileCountry=g;tempMobile=j;tempTelCountry=c;tempTelStCode=h;tempTel=f;tempMessage=e;tempUserType=b}else{if(readCookie("userType")){tempUserType=readCookie("userType")}else{if(contactFormBeanOnLoad.userType){tempUserType=contactFormBeanOnLoad.userType}}if(readCookie("userName")){tempName=readCookie("userName").replace(/^"(.*)"$/,"$1")}else{if(contactFormBeanOnLoad.userName){tempName=contactFormBeanOnLoad.userName}}if(readCookie("userEmail")){tempEmail=readCookie("userEmail");if(tempEmail){tempEmail=tempEmail.replace(/^"(.*)"$/,"$1")}}else{if(contactFormBeanOnLoad.userEmail){tempEmail=contactFormBeanOnLoad.userEmail;if(tempEmail){tempEmail=tempEmail.replace(/^"(.*)"$/,"$1")}}}if(readCookie("userMobileCountry")){tempMobileCountry=readCookie("userMobileCountry")}else{if(contactFormBeanOnLoad.userMobileCountry){tempMobileCountry=contactFormBeanOnLoad.userMobileCountry}else{if(userDefaultMobileCountry){tempMobileCountry=userDefaultMobileCountry}}}if(readCookie("userMobile")){tempMobile=readCookie("userMobile")}else{if(contactFormBeanOnLoad.userMobile){tempMobile=contactFormBeanOnLoad.userMobile}}if(readCookie("userTelCountry")){tempTelCountry=readCookie("userTelCountry")}else{if(contactFormBeanOnLoad.userTelCountry){tempTelCountry=contactFormBeanOnLoad.userTelCountry}}if(readCookie("userTelStCode")){tempTelStCode=readCookie("userTelStCode")}else{if(contactFormBeanOnLoad.userTelStCode){tempTelStCode=contactFormBeanOnLoad.userTelStCode}}if(readCookie("userTel")){tempTel=readCookie("userTel")}else{if(contactFormBeanOnLoad.userTel){tempTel=contactFormBeanOnLoad.userTel}}}contactFormBeanOnLoad=new Object();if(tempName){contactFormBeanOnLoad.userName=tempName}else{contactFormBeanOnLoad.userName="";tempName=""}if(d){contactFormBeanOnLoad.contactType=d}else{contactFormBeanOnLoad.contactType="";d=""}if(tempEmail){contactFormBeanOnLoad.userEmail=tempEmail}else{contactFormBeanOnLoad.userEmail="";tempEmail=""}if(tempMobile){contactFormBeanOnLoad.userMobile=tempMobile}else{contactFormBeanOnLoad.userMobile="";tempMobile=""}if(tempMobileCountry){contactFormBeanOnLoad.userMobileCountry=tempMobileCountry}else{contactFormBeanOnLoad.userMobileCountry="";tempMobileCountry=""}if(tempTel){contactFormBeanOnLoad.userTel=tempTel}else{contactFormBeanOnLoad.userTel="";tempTel=""}if(tempTelCountry){contactFormBeanOnLoad.userTelCountry=tempTelCountry}else{contactFormBeanOnLoad.userTelCountry="";tempTelCountry=""}if(tempTelStCode){contactFormBeanOnLoad.userTelStCode=tempTelStCode}else{contactFormBeanOnLoad.userTelStCode="";tempTelStCode=""}if(tempUserType){contactFormBeanOnLoad.userType=tempUserType}else{contactFormBeanOnLoad.userType="";tempUserType=""}if(tempMessage){contactFormBeanOnLoad.userMessage=tempMessage}}function showBorder(a){if(rightPanelBorderShow){if(document.getElementById(a)!=null&&document.getElementById(a).style.display=="none"){document.getElementById(a).style.display=""}}}function loadAdvancedSearchForm(a){if(a!="null"){if(a=="property"){greyLightBox("#advancedProperty","/propertySearch.html?gc=2624&bedrooms=00000&propertyType=10002&newForm=true")}else{if(a=="project"){greyLightBox("#advancedProject","/projectSearch.html?newForm=true&gc=2624&bedrooms=00000&propertyType=10002&possessionYears=00000")}else{if(a=="agent"){greyLightBox("#advancedAgent","/agentSearch.html?newForm=true&gc=2624&propertyType=10002")}}}if(a=="requirementSearch"){greyLightBox("#advancedBuyer","/requirementSearch.html?gc=2624&bedrooms=00000&propertyType=10002&newForm=true")}if(a=="advancedBuilder"){greyLightBox("#advancedBuilder","/builderSearch.html?gc=2624&bedrooms=00000&propertyType=10002&newForm=true")}}}function showRightPanelBorder(){if(!rightPanelBorderShow){if(document.getElementById("rightTopBorder")!=null&&document.getElementById("rightPanelHeading")!=null){if(document.getElementById("rightTopBorder").style.display=="none"){document.getElementById("rightTopBorder").style.display=""}if(document.getElementById("rightPanelHeading").style.display=="none"){document.getElementById("rightPanelHeading").style.display=""}rightPanelBorderShow=true}}}function isResultPresent(a,b){$("#priceTrendTab").show();if(a==null||a==""){a=false}if(a){$("#"+b).show()}}function showValueHomes(a,e,d,c,b){if(localityComeScore!=document.getElementById(c+a).value){track_comScore("hot_deals_rental_sale_locality_change")}localityComeScore=document.getElementById(c+a).value;if(c!=""){$("#"+c+"loader").show();ajaxService.showValueHomesDWR(document.getElementById(c+a).value,e,d,c,{callback:function(f){if(f!=null&&f!=""){$("#"+c+"valueHomes").html("");$("#"+c+"valueHomes").html(f);if(c=="S"&&b=="true"){$("#anchorValueHomesSale").show()}if(c=="R"&&b=="true"){$("#anchorValueHomesRent").show()}}document.getElementById(c+"loader").style.display="none"},async:true})}}function enableValueHomesTabs(){if(document.getElementById("anchorValueHomesSale").style.display!="none"){document.getElementById("valueHomesSales").style.display=""}if(document.getElementById("anchorValueHomesRent").style.display!="none"&&document.getElementById("valueHomesSales").style.display=="none"){document.getElementById("valueHomesRent").style.display=""}}function ajax_showBannerTooltipWithContactForm(p,g,r,f,j,l,n,b,a,w){var v="";var q=contactFormBeanOnLoad.userMobileCountry;if(document.getElementById("tooltipMobileIsd")){q=document.getElementById("tooltipMobileIsd").value}if(q){populateTooltipIsdCodes(q)}else{ajaxService.getUsersISDCountry({callback:function(e){if(e!=null&&e!="null"&&e!=""&&e!=""){v=e}else{v="50"}populateTooltipIsdCodes(v)},async:true})}if(!globalHideVar){var s=g.id;var m=$("#"+s).outerHeight();if(a=="right"){var k=$("#"+s).offset().top-5;var d=$("#"+s).offset().left-6+($("#"+s).width());$(".arrowForBottom").hide();$(".arrowForRight").hide();$(".arrowForLeft").show();$(".arrowForLeft").css("z-index","1");$(".arrowForRight").css("z-index","-1");$(".arrowForLeft").css("padding-top","0px");$(".adBannerTTContainer").css("width","293px")}else{if(a=="left"){var k=$("#"+s).offset().top-5;var d=$("#"+s).offset().left-($(".adBannerTTContainer").width()-5);$(".arrowForBottom").hide();$(".arrowForLeft").hide();$(".arrowForLeft").css("z-index","-1");$(".arrowForRight").show();$(".arrowForRight").css("z-index","1");$(".adBannerTTContainer").css("width","293px")}else{var k=$("#"+s).offset().top+m-3;var d=$("#"+s).offset().left+10;$(".arrowForBottom").show();$(".arrowForLeft").hide();$(".arrowForRight").hide();$(".arrowForLeft").css("z-index","-1");$(".arrowForLeft").css("padding-top","25px");$(".adBannerTTContainer").css("width","293px")}}$(".adBannerTTContainer").css({top:k,left:d});$("#globalErr").hide();$(".closeBtnTT").hide();$("#alertChk").attr("checked",false);$("#tooltipMobileIsd").val(contactFormBeanOnLoad.userMobileCountry);if($("#mobile").is("[type=text]")){$("#mobile").val(contactFormBeanOnLoad.userMobile)}$("#email").val(contactFormBeanOnLoad.userEmail);$("#comScoreUrl").val(w);reqType=contactFormBeanOnLoad.userType;if(reqType&&reqType.indexOf(",")>0){reqType=reqType.substring(0,reqType.indexOf(","))}var t=document.getElementsByName("ReqType");if(t!=null&&reqType!=null&&reqType!=""){for(i=0;i<t.length;i++){if(reqType==t[i].value){t[i].setAttribute("checked","checked")}}document.getElementById("reqTypeField").style.display="none"}var o="";if(document.getElementById("contactDivprj")){document.getElementById("contactDivprj").style.display="none"}if(document.getElementById("contactDivagent")){document.getElementById("contactDivagent").style.display="none"}if(document.getElementById("contactDivbuilder")){document.getElementById("contactDivbuilder").style.display="none"}if(document.getElementById("contactDivprop")){document.getElementById("contactDivprop").style.display="none"}$("#ReqTypeErrorDiv").hide();$("#nameErr").hide();$("#mobileErr").hide();$("#emailErr").hide();$("#messageErr").hide();var h=true;var c=true;if(f=="true"){$(".contentBottom").show();$(".contentBottomHeading").html(r);$("#succUserName").html(b);var u="";if(j&&j!="null"&&DoTrim(j).length>0){o="I am interested in your project. Please contact me.";$("#message").val(o);u="Send me matching projects on Emails, Sms & Calls."}else{if(r.indexOf("Agent")!=-1){ajaxService.getToolTipDefaultMessage("agent",l,function(e){o=e;$("#message").val(o)});u="Send me matching agent profiles on Emails, Sms & Calls."}else{if(r.indexOf("Builder")!=-1){ajaxService.getToolTipDefaultMessage("builder",l,function(e){o=e;$("#message").val(o)})}}}if((r.indexOf("Agent -")==-1&&r.indexOf("Builder -")==-1)||(r.indexOf(b)>0)){$("#succUserHed").hide()}else{$("#succUserHed").show()}document.getElementById("prjrfnum").value=j;document.getElementById("advertiserUbirfnum").value=l;document.getElementById("campaignCode").value=n;if(DoTrim(u).length>0){$("#alert").show();$("#alertDiv").html(u)}else{$("#alert").hide();$("#alertDiv").html("")}}else{$(".contentBottom").hide();c=false}p=URLDecode(p);if(!p||DoTrim(p).length==0||p==null||p=="null"){$("#contentTopDiv").hide();h=false}else{$("#contentTopDiv").show();$("#contentTopDiv").html(p)}if(h||c){$(".adBannerTTContainer").fadeIn("fast")}else{$(".adBannerTTContainer").hide()}isSlideStopped=true}}function populateTooltipIsdCodes(b){var a=prepareToolTipISDCodesHtml(b);if(document.getElementById("toolTipIsdCodeDiv")!=null){document.getElementById("toolTipIsdCodeDiv").innerHTML=a}}var countriesCdValMapVar="";ajaxService.getCountriesMap({callback:function(a){countriesCdValMapVar=a},async:false});function prepareToolTipISDCodesHtml(c){var b="<select class='selectCA' id='tooltipMobileIsd' >";var d=getCountries(countriesCdValMapVar);var e=d.length;for(var a=0;a<e;a++){if(c&&c==d[a]){b+="<option value='"+d[a]+"' selected=selected>"+countriesCdValMapVar[d[a]]+"</option>"}else{b+="<option value='"+d[a]+"'>"+countriesCdValMapVar[d[a]]+"</option>"}}b+="</select>";return b}function validateTextField(e,d){if(document.getElementById(e)){var a=document.getElementById(e).value;var c="{}[]()!^*";var f="*|,\":?.<>[]{}~`=';()@&$#%+-!^";if(f.indexOf(a.charAt(0))!=-1&&a!=""){if(document.getElementById(d)){document.getElementById(d).innerHTML="No Special Characters! are Allowed in  keyword field";document.getElementById(d).style.display="block";return false}}for(var b=0;b<a.length;b++){if(c.indexOf(a.charAt(b))!=-1&&a!=""){if(document.getElementById(d)){document.getElementById(d).innerHTML="No Special Characters! are Allowed in  keyword field";document.getElementById(d).style.display="block";return false}}}return true}else{return true}}function validateForm(a){var e=null;var n="";if(document.getElementById("bar_category")){n="";document.getElementById("bar_category").type;if(n=="radio"){category=document.getElementById("bar_category").value;e=document.getElementById("bar_category").checked}else{category=document.getElementById("bar_category").value;if(category=="S"){e=true}}}else{if(document.getElementById("bar_categoryR").checked){category="R"}else{category="S";e=true}}if(!validateTextField("keyword","keywordErrDivMsg")){return false}if(!detectxss("","keyword","keywordErrDivMsg")){return false}var m=new Rules();if(a.name=="quick_project"){m.addRule("bar_propertyType","required",{args:"select-one",errorMessage:"Select at least one property type",errorDiv:"qukProjErrDivMsg",failedDiv:"",okDiv:""});m.addRule("bar_city","required",{args:"select-multiple",errorMessage:"Please enter a valid city name.",errorDiv:"qukProjCityErrDivMsg",failedDiv:"",okDiv:""})}if(a.name=="quick_project_new"){m.addRule("propertyType","required",{args:"select-one",errorMessage:"Type is required",errorDiv:"qukProjErrDivMsg",failedDiv:"",okDiv:""})}if(a.name=="quick_buyer"){m.addRule("qukBuyerPropType","required",{args:"select-one",errorMessage:"Type of Property is required",errorDiv:"qukBuyerPropErrDivMsg",failedDiv:"",okDiv:""})}if(a.name=="_agen"){m.addRule("bar_propertyType","required",{args:"select-multiple",errorMessage:"Select at least one property type",errorDiv:"agentTypeErrDivMsg",failedDiv:"",okDiv:""});m.addRule("bar_city","required",{args:"select-multiple",errorMessage:"Please enter a valid city name.",errorDiv:"qukAgentCityErrDivMsg",failedDiv:"",okDiv:""})}if(a.name=="_agen_new"){m.addRule("agent_propertyTypeScr","required",{args:"select-one",errorMessage:"Type of Property is required",errorDiv:"agentTypeErrDivMsg",failedDiv:"",okDiv:""})}if(a.name=="mopsearch"||a.name=="project"||a.name=="requirement"||a.name=="property"||a.name=="quicksearch"||a.name=="propertyContactLeads"||a.name=="propertyHomeLoanLeads"){m.addRule("propertyType","required",{args:"select-multiple",errorMessage:"Property Type is required",errorDiv:"propTypeErrDivMsg",failedDiv:"",okDiv:""})}else{if(a.name=="bar_property"){m.addRule("bar_propertyType","required",{args:"select-multiple",errorMessage:"Property Type is required",errorDiv:"propTypeErrDivMsg",failedDiv:"",okDiv:""});m.addRule("bar_city1","required",{args:"select-multiple",errorMessage:"City name is required",errorDiv:"bar_cityErrDivMsg",failedDiv:"",okDiv:""})}else{if(a.name=="body_property"){if(category=="R"){m.addRule("bar_propertyType_R","required",{args:"select-multiple",errorMessage:"Select at least one property type",errorDiv:"propTypeErrDivMsg",failedDiv:"",okDiv:""})}else{m.addRule("bar_propertyType","required",{args:"select-multiple",errorMessage:"Select at least one property type",errorDiv:"propTypeErrDivMsg",failedDiv:"",okDiv:""})}m.addRule("bar_city","required",{args:"select-multiple",errorMessage:"Please enter a valid city name.",errorDiv:"bar_cityErrDivMsg",failedDiv:"",okDiv:""})}else{if(a.name=="bar_prop_property"){if(category=="R"){m.addRule("bar_propertyType_R","required",{args:"select-multiple",errorMessage:"Select at least one property type",errorDiv:"propTypeErrDivMsg",failedDiv:"",okDiv:""})}else{m.addRule("bar_propertyType","required",{args:"select-multiple",errorMessage:"Select at least one property type",errorDiv:"propTypeErrDivMsg",failedDiv:"",okDiv:""})}m.addRule("bar_city","required",{args:"select-multiple",errorMessage:"Please enter a valid city name.",errorDiv:"bar_cityErrDivMsg",failedDiv:"",okDiv:""})}else{if(a.name=="bar_prop_property_new"){m.addRule("bar_propertyTypeScr","required",{args:"select-one",errorMessage:"Property Type is required",errorDiv:"propTypeErrDivMsg",failedDiv:"",okDiv:""})}else{if(a.name=="bar_project"){m.addRule("quk_proj_propertyType","required",{args:"select-one",errorMessage:"Select at least one property type",errorDiv:"projTypeErrDivMsg",failedDiv:"",okDiv:""});m.addRule("bar_city2","required",{args:"select-multiple",errorMessage:"Please enter a valid city name.",errorDiv:"qukProjCityErrDivMsg",failedDiv:"",okDiv:""})}else{if(a.name=="bar_project_new"){m.addRule("quk_proj_propertyTypeScr","required",{args:"select-one",errorMessage:"Property Type is required",errorDiv:"projTypeErrDivMsg1",failedDiv:"",okDiv:""})}else{if(a.name=="body_property_panel"){m.addRule("body_propertyTypeScr","required",{args:"select-one",errorMessage:"Property Type is required",errorDiv:"propTypeErrDivMsgScr",failedDiv:"",okDiv:""})}else{if(a.name=="body_project"){m.addRule("quk_proj_propertyTypeScr","required",{args:"select-one",errorMessage:"Property Type is required",errorDiv:"qukProjErrDivMsgScr",failedDiv:"",okDiv:""})}else{if(a.name=="body_agent"){m.addRule("body_propertyType","required",{args:"select-one",errorMessage:"Property Type is required",errorDiv:"propTypeErrDivMsg",failedDiv:"",okDiv:""})}}}}}}}}}}if(a.name=="mopsearch"||a.name=="project"||a.name=="requirement"||a.name=="agent"||a.name=="builder"||a.name=="property"||a.name=="quicksearch"||a.name=="propertyContactLeads"||a.name=="propertyHomeLoanLeads"){if(a.name!="mopsearch"){m.addRule("country","required",{args:"select-one",errorMessage:"Country name is required",errorDiv:"countryErrDivMsg",failedDiv:"",okDiv:""})}m.addRule("state","required",{args:"select-one",errorMessage:"State name is required",errorDiv:"stateErrDivMsg",failedDiv:"",okDiv:""});m.addRule("city","required",{args:"select-one",errorMessage:"City name is required",errorDiv:"cityErrDivMsg",failedDiv:"",okDiv:""})}else{if(a.name=="body_property"){m.addRule("bar_city","required",{args:"select-one",errorMessage:"City name is required",errorDiv:"bar_cityErrDivMsg",failedDiv:"",okDiv:""})}else{if(a.name=="bar_property"){m.addRule("bar_city","required",{args:"select-one",errorMessage:"City name is required",errorDiv:"cityErrDivMsg",failedDiv:"",okDiv:""});m.addRule("bar_state","required",{args:"select-one",errorMessage:"State name is required",errorDiv:"stateErrDivMsg",failedDiv:"",okDiv:""})}}}if(a.name=="mopsearch"){m.addRule("budgetMin","validateBothComboFields",{args:"budgetMaxs",errorMessage:"Budget is required",errorDiv:"budgetErrDivMsg",failedDiv:"",okDiv:""})}if(a.name=="property"||a.name=="mopsearch"){var c=document.getElementById("covAreaUnit").value;var g=document.getElementById("coveredAreaFrom").value;var j=document.getElementById("coveredAreaTo").value;if(c!="-1"&&c!=""&&c!=null){m.addRule("coveredAreaFrom","validateBothFields",{args:"coveredAreaTo",errorMessage:"Please  enter atleast minimum or maximum  covered  area.",errorDiv:"covAreaUnitErrDivMsg",failedDiv:"",okDiv:""})}else{if((g!="-1"&&g!=""&&g!=null)||(j!="-1"&&j!=""&&j!=null)){m.addRule("covAreaUnit","required",{args:"select-multiple",errorMessage:"Please Select Unit.",errorDiv:"covAreaUnitErrDivMsg",failedDiv:"",okDiv:""})}}var f=document.getElementById("landAreaUnit").value;var h=document.getElementById("plotLandAreaFrom").value;var l=document.getElementById("plotLandAreaTo").value;if(f!="-1"&&f!=""&&f!=null){m.addRule("plotLandAreaFrom","validateBothFields",{args:"plotLandAreaTo",errorMessage:"Please  enter atleast minimum or maximum  plot  area.",errorDiv:"landAreaUnitErrDivMsg",failedDiv:"",okDiv:""})}else{if((h!="-1"&&h!=""&&h!=null)||(l!="-1"&&l!=""&&l!=null)){m.addRule("landAreaUnit","required",{args:"select-multiple",errorMessage:"Please Select Unit.",errorDiv:"landAreaUnitErrDivMsg",failedDiv:"",okDiv:""})}}}if(a.name=="bar_prop_property"||a.name=="bar_project"||a.name=="quick_project"||a.name=="body_property"){var d="prop";if(a.name=="bar_project"||a.name=="quick_project"){d="proj"}var f=document.getElementById("landAreaUnit_"+d).value;var h=document.getElementById("plotLandAreaFrom_"+d).value;var l=document.getElementById("plotLandAreaTo_"+d).value;if(f!="-1"&&f!=""&&f!=null){m.addRule("plotLandAreaFrom","validateBothFields",{args:"plotLandAreaTo",errorMessage:"Please  enter atleast minimum or maximum  plot  area.",errorDiv:"landAreaUnitErrDivMsg",failedDiv:"",okDiv:""});m.addRule("plotLandAreaFrom","compareBothFields",{args:"plotLandAreaTo",errorMessage:"Min value can not be greater than Max value.",errorDiv:"landAreaUnitErrDivMsg",failedDiv:"",okDiv:""});m.addRule("plotLandAreaFrom","mask",{args:"^[0-9]*$",errorMessage:"Please enter numeric values in covered area",errorDiv:"landAreaUnitErrDivMsg",failedDiv:"",okDiv:""});m.addRule("plotLandAreaTo","mask",{args:"^[0-9]*$",errorMessage:"Please enter numeric values in covered area",errorDiv:"landAreaUnitErrDivMsg",failedDiv:"",okDiv:""})}else{if((h!="-1"&&h!=""&&h!="Min"&&h!=null)||(l!="-1"&&l!=""&&l!="Max"&&l!=null)){m.addRule("landAreaUnit","required",{args:"select-multiple",errorMessage:"Please Select Unit.",errorDiv:"landAreaUnitErrDivMsg",failedDiv:"",okDiv:""})}}}var k=new Validator(a,m);k.method=TEXT;var b=k.validate(false);if(b==0){return false}else{return true}}function DoTrim(a){return a.replace(/^\s+|\s+$/g,"")}function validateReqPostCookieProp(d,b,e){var c=d+"";if(c.indexOf("_")>0){c=c.split("_")[0]}createCookie("INT_PAGE","N",1);var a="contact";if(e!=null&&e!="undefined"&&e=="ViewContact"){a=" view the contact details"}if(e!=null&&e!="undefined"&&e=="GDES"){a=" receive the contact details"}return true}function URLDecode(e){var a="0123456789ABCDEFabcdef";var d="";var b=0;while(b<e.length){var c=e.charAt(b);if(c=="+"){d+=" ";b++}else{if(c=="%"){if(b<(e.length-2)&&a.indexOf(e.charAt(b+1))!=-1&&a.indexOf(e.charAt(b+2))!=-1){d+=unescape(e.substr(b,3));b+=3}else{alert("Bad escape combination near ..."+e.substr(b));d+="%[ERROR]";b++}}else{d+=c;b++}}}return d}function createCitySpecialPersistentCookie(c,d,e){var a="";if(e){var b=new Date();b.setTime(b.getTime()+(e*24*60*60*1000));a="; expires="+b.toGMTString()}document.cookie=c+"="+d+a+"; path=/"}function setSessionCookieCitySpecial(b){var a=getCookie("citySpecialSessionCookie");if(a==null){createCitySpecialSessionCookie("citySpecialSessionCookie",b)}}function createCitySpecialSessionCookie(a,b){document.cookie=a+"="+b+"; path=/"}function setPersistentCookieCitySpecial(a){createCitySpecialPersistentCookie("citySpecialPersistentCookie",a,"30")}function captureSearchData(b,a,c){if(!(typeof mbRunstats==="undefined")&&a!=undefined&&a!=null&&a!=""){mbRunstats.uid=a}if(!(typeof mbRunstats==="undefined")){return mbRunstats.log({action:c+" - "+b,actionParam:"",nav:"L"})}}function getCookie(b){var c,a,e,d=document.cookie.split(";");for(c=0;c<d.length;c++){a=d[c].substr(0,d[c].indexOf("="));e=d[c].substr(d[c].indexOf("=")+1);a=a.replace(/^\s+|\s+$/g,"");if(a==b){return unescape(e)}}}function validateTooltipContact(d){var m=false;var g=document.getElementById("prjrfnum").value;var o=document.getElementById("advertiserUbirfnum").value;var l=document.getElementById("campaignCode").value;var j=false;if(!validateCommonContactForm("ReqType","name","email","mobile","message",null,"tooltipMobileIsd",null,null,true,d,"formId",true,"ReqTypeErrorDiv","nameErr","emailErr","mobileErr",null,"messageErr")){return false}else{j=true}var a="";var k=document.getElementsByName("ReqType");if(k!=null){for(i=0;i<k.length;i++){if(k[i].checked){if(a==""){a=k[i].value}else{a=a+","+k[i].value}}}}if(j){var n=new Object();n.name=document.getElementById("name").value;n.mobile=document.getElementById("mobile").value;n.email=document.getElementById("email").value;n.userMobileCountry=document.getElementById("tooltipMobileIsd").value;n.message=document.getElementById("message").value;n.userType=a;n.prjrfnum=g;n.advertiserUbirfnum=o;n.campaignCode=l;n.alertChk=document.getElementById("alertChk").checked;var c=document.getElementById("name");var h=document.getElementById("email");var b=document.getElementById("mobile");var f=document.getElementById("mobile");ajaxService.validateRecomContactSender(c.value,h.value,b.value,f.value,{callback:function(e){validateSenderError=e},async:false});if(validateSenderError!="undefined"&&validateSenderError!=null&&validateSenderError!=""&&validateSenderError!=""){validateSenderError=validateSenderError.substring(validateSenderError.indexOf("-")+1);alert(validateSenderError);return false}createCookie("contactTrackCookie","HA-tooltip",-1);ajaxService.makeTooltipContact(n,{callback:function(p){if(p.status=="false"){delete p.status;for(var e in p){document.getElementById(e).innerHTML=p[e];document.getElementById(e).style.display="block"}}else{if(p.status=="true"){if(!isUserLoggedIn){contactFormBeanOnLoad.userName=n.name;createCookie("userName",n.name,90);contactFormBeanOnLoad.userEmail=n.email;createCookie("userEmail",n.email,90);contactFormBeanOnLoad.userMobileCountry=n.userMobileCountry;createCookie("userMobileCountry",n.userMobileCountry,90);contactFormBeanOnLoad.userMobile=n.mobile;createCookie("userMobile",n.mobile,90);contactFormBeanOnLoad.userType=n.userType;createCookie("userType",n.userType,90)}if(p.contactStr){$("#contactSection").html(p.contactStr)}$(".innerContent").hide();$(".submitToolTipMessage").show();setTimeout(function(){trackToolTipContact(n)},"500");m=true;track_comScore("tooltip_contact_form_"+$("#comScoreUrl").val()+"_"+o+"_confirmation")}}},async:false})}else{m=false}return m}function readCookie(b){var a=document.cookie.split(";");var e=b+"=";for(var d=0;d<a.length;d++){var f=a[d];while(f.charAt(0)==" "){f=f.substring(1,f.length)}if(f.indexOf(e)==0){retVal=f.substring(e.length,f.length);if(b=="userType"&&retVal.indexOf(",")>0){return retVal.substring(0,retVal.indexOf(","))}else{if(b=="userEmail"){return retVal.replace(/^"(.\*)"$/,"$1")}else{if(b=="userName"){return retVal.replace(/^"(.\*)"$/,"$1")}else{return retVal}}}}}return null}function createMBCookie(c,d,e){var a="";if(e){var b=new Date();b.setTime(b.getTime()+(e*24*60*60*1000));a="; expires="+b.toGMTString()}document.cookie=c+"="+encodeURIComponent(d)+a+"; path=/"}function trackToolTipContact(a){var e="";e+="userName:"+a.name;e+="|contactType:Tooltip Contact";e+="|userEmail:"+a.email;e+="|userMobile:"+a.mobile;e+="|alertCheck:"+a.alertChk;e+="|ownerId:"+a.advertiserUbirfnum;var c=new Object();var d="";var b=false;var f=false;if(a.prjrfnum&&a.prjrfnum!=""&&a.prjrfnum!="null"&&a.prjrfnum!=null){c.Project=a.prjrfnum;d="Project";f=true}else{if(a.advertiserUbirfnum&&a.advertiserUbirfnum!=""&&a.advertiserUbirfnum!="null"&&a.advertiserUbirfnum!=null){c.Agent=a.advertiserUbirfnum;d="Agent";f=true}}if(f){ajaxService.getDescriptionMapByCode(c,{callback:function(l){if(l){var k=new Object();if(l[d]){k=l[d];for(var j in k){if(j&&k[j]){var h=k[j];var g=e;if(h.cg){g+="|category:"+h.cg}if(h.prjName&&h.prjName!=undefined){g+="|projectId:"+h.prjName}if(h.st){g+="|staterfnum:"+h.st}if(h.ct){g+="|cityrfnum:"+h.ct}if(h.lt){g+="|localityrfnum:"+h.lt}if(h.pt){g+="|propType:"+h.pt}if(h.bgmn){g+="|minBudget:"+h.bgmn}if(h.cfrom){g+="|coveredFrom:"+h.cfrom}if(h.bd){g+="|reqBedrooms:"+h.bd}if(h.utype){g+="|utype:"+h.utype}if(d=="Agent"){g+="|contactFromPage:Tooltip Contact - Agent/Builder"}else{g+="|contactFromPage:Tooltip Contact - "+d}g+="|id:"+j;if(!(typeof mbRunstats==="undefined")&&mbRunstats!=null&&g!=""){mbRunstats.log({action:"Contact",actionParam:g,nav:"C"});g=g.replace("|contactType:Tooltip Contact","|contactType:"+d);captureData(g,"C");b=true}}}}else{}}},async:false})}if(b==false&&!(typeof mbRunstats==="undefined")&&mbRunstats!=null&&e!=""){e+="|id:"+a.advertiserUbirfnum;e+="|contactFromPage:Tooltip Contact - Agent/Builder";mbRunstats.log({action:"Contact",actionParam:e,nav:"C"});tempVal=tempVal.replace("|contactType:Tooltip Contact","|contactType:"+d);captureData(e,"C");return true}}var isDisplayCalled=false;var nextTimeOut=null;var ctr=0;function displaySliderRecoms(){var a=isDisplayRecom();if(a){if(!isDisplayCalled){resumeSliderDisplay();setTimeout(function(){var b=$("#displaySliderRecommendations").html();if(b!=""){var c=$("#slider1").html();if(c!=""){$("#slider1").anythingSlider({expand:true,hashTags:false,autoPlay:true});$("#recommendsWidget").show();$("#recommendsWidget").animate({right:"0px"},"slow");flag=1;isDisplayCalled=true}else{if(ctr<3){displaySliderRecoms();ctr++}}}},300)}}}function showNextSlider(){resumeSliderDisplay();$("#slider1").anythingSlider(">>");if(!(typeof nextTimeOut==="undefined")&&nextTimeOut&&nextTimeOut!=null){clearTimeout(nextTimeOut)}}function currentYPosition(){var a=0;if(self.pageYOffset){a=self.pageYOffset}if(document.documentElement&&document.documentElement.scrollTop){a=document.documentElement.scrollTop}if(document.body.scrollTop){a=document.body.scrollTop}return a}function isDisplayRecom(){var f="<%=session.getId()%>";var a=getCurrentPageName();var c=getCookieParam("closeRecomCookie","closeRecomPage");var e=getCookieParam("optOutRecomCookie","optOutRecom");var b=getCookieParam("closeRecomCookie","sessionId");var d=true;if(e&&e=="Y"){d=false}if(c&&c==a&&b&&b==f){d=false}return false}function displayRecomAfterTimeout(){displaySliderRecoms()}function homePageAjaxCall(a){ajaxService.loadDevGall(a,{callback:function(b){$("#devGal").html(b)},async:true});ajaxService.loadJumboBanner(a,{callback:function(b){$("#jumbo").html(b)},async:true});ajaxService.loadRightBanner(a,{callback:function(b){$("#rightBanner").html(b)},async:true});ajaxService.loadAddBanner(a,"21001","50168",{callback:function(b){$("#tileBanner50168").html(b)},async:true});ajaxService.loadRenderFeatureProj(a,{callback:function(b){$("#renderFeatureProj").html(b);loadFeatureProjJS()},async:true});ajaxService.loadLocReviewAjax(a,{callback:function(b){$("#locReviewLhs").html(b);$("#kYourLoc").find(".lhsHeading").html("Know your Locality")},async:true});ajaxService.loadProjectByNameAjax(a,{callback:function(b){$("#projectByName").html(b)},async:true})}function cityPageAjaxCall(d,c,a,b){ajaxService.loadDevGalCityAjax(d,"50087",{callback:function(e){$("#devGalCity").html(e)},async:true});ajaxService.loadJumboCityBanner(d,{callback:function(e){$("#jumbiCity").html(e)},async:true});ajaxService.loadRightBannerCitySpl(d,{callback:function(e){$("#rightBannerCity").html(e)},async:true});ajaxService.loadHtmTilesBanner(d,{callback:function(e){$("#htmlTilsBann50001").html(e)},async:true});ajaxService.loadBuildersByCity(c,{callback:function(e){$("#buildersByCityBanner").html(e)},async:true});ajaxService.loadLocReviewCityAjax(c,{callback:function(e){$("#locReviewCity").html(e);$("#kYourLoc").find(".lhsHeading").html("Know your Locality")},async:true});ajaxService.loadRenderFeatureProjCity(d,{callback:function(e){$("#renFetProjectCity").html(e)},async:true});ajaxService.loadDevGalCityAjax(d,"50703",{callback:function(e){$("#agentGal").html(e)},async:true});ajaxService.loadPriceTrendCityAjax(c,{callback:function(e){$("#priceTrend").html(e)},async:true});ajaxService.loadHotDealsCityAjax(c,a,b,{callback:function(e){$("#hotDeals").html(e);setTimeout("enableValueHomesTabs()",2000)},async:true})}function setCityPriceUnit(b,a){dwr.util.setValue(a+"TpPuPrice",b);dwr.util.setValue(a+"TpPuAvg",b);dwr.util.setValue(a+"PuPrice",b);dwr.util.setValue(a+"PuAvg",b)}function refreshData(b,a){dwr.util.removeAllRows(a+"cityPriceTrend",{filter:function(d){return(d.id!=a+"priceTrendPattrn")}});counter=0;setCityPriceUnit(b.pu,a);for(x in b.rates){var c=b.rates[x].localityId;for(y in b.rates[x].rowList){if(a=="S"){objj=b.rates[x].rowList[y].sale}else{objj=b.rates[x].rowList[y].rent}dwr.util.cloneNode(a+"priceTrendPattrn",{idSuffix:c});dwr.util.setValue(a+"PRLocality"+c,b.rates[x].locality);if(objj.priceRange!="-"){dwr.util.setValue(a+"PRPrice"+c,"<a href='"+b.rates[x].trendLink+"'>"+objj.priceRange+"</a>",{escapeHtml:false})}else{dwr.util.setValue(a+"PRPrice"+c,objj.priceRange)}dwr.util.setValue(a+"PRAvg"+c,objj.avgPrice);dwr.util.setValue(a+"PRQoq"+c,objj.qoq);dwr.util.byId(a+"PRLink"+c).href=b.rates[x].trendLink;if(objj.qoqPresent){if(objj.up){dwr.util.byId(a+"PRQoqClazz"+c).className="trendsUp";dwr.util.byId(a+"PRUp"+c).style.display="";dwr.util.byId(a+"PRDn"+c).style.display="none"}else{dwr.util.byId(a+"PRQoqClazz"+c).className="trendsDown";dwr.util.byId(a+"PRDn"+c).style.display="";dwr.util.byId(a+"PRUp"+c).style.display="none"}}else{dwr.util.byId(a+"PRDn"+c).style.display="none";dwr.util.byId(a+"PRUp"+c).style.display="none"}dwr.util.byId(a+"priceTrendPattrn"+c).style.display="";if(counter%2==0){dwr.util.byId(a+"priceTrendPattrn"+c).className="evenRow"}counter++}}}function changePriceTrendTab(c,d,a,b){if($(c).attr("class").indexOf("currentTab")==-1){ajax_track_comScore("price_trend_sale_rental_tab")}$("#"+a).show();$(c).addClass("currentTab");$("#"+b).hide();$("#"+d).removeClass("currentTab")}var propertyComScore=null;function getCityPriceTrend(a){proptype=dwr.util.getValue(a+"cityPriceCombo");if(propertyComScore!=proptype){track_comScore("price_trend_sale_rental_property_change")}propertyComScore=proptype;ajaxService.getCityPriceRates(priceTrendCity,proptype,priceTrendMainPropType,a,priceTrendSize,{callback:function(b){refreshData(b,a)}})}function showDiv(c,a){var b=document.getElementById(c);if(b!=null&&b!=undefined){if(a==true){b.style.display="block"}else{b.style.display="none"}}}function changeValueHomesTab(c,d,a,b){if($(c).attr("class")&&$(c).attr("class").indexOf("hotDealsTabCurrent")==-1){ajax_track_comScore("hot_deals_rental_sale_tab")}$("#"+a).show();$(c).addClass("hotDealsTabCurrent");$("#"+b).hide();$("#"+d).removeClass("hotDealsTabCurrent")}function showLocalityContentInDialog(a,d,c,b){if(d==null){d=""}widt=850;ht=600;if(a.indexOf("prjPsmId=&")!=-1){if(b!=null&&b!=""&&b!="undefined"){ht=630}if(c=="0"){widt=620;if(b!=null&&b!=""&&b!="undefined"){ht=630}}}GB_myShow(d,a,ht,widt)}GB_myShow=function(b,d,a,e,g){var c={caption:b,height:a||500,width:e||500,fullscreen:false,show_loading:true,callback_fn:g};var f=new GB_Window(c);return f.show(d)};function shoshkeleModal(){shoshkeleModalFlag=true;var g=$("#shoshkeleModal");var c=document.documentElement.scrollHeight;var f=$(window).width();$("#shoshkeleMask").css({width:f,height:c});ieversion=getIeversion();if(ieversion==-1||ieversion!=7){$("body").css({"overflow-x":"hidden"})}$("#shoshkeleMask").fadeTo("slow",0.6);var e=$(window).height();var b=$(window).width();var a=$(window).scrollTop();var d=$(window).scrollLeft();$(g).css({position:"absolute"});$(g).css("left",d+(b-$(g).width())/2.3);$(g).fadeIn(1);$("#closeShoshkeleMask, #shoshkeleMask").click(function(){hideFlashModel()})}function showTab(b,c){document.getElementById(b+"_li").className="currentLink-bottom";document.getElementById(b+"_link").style="padding-top: 5px; padding-bottom: 5px;";if(document.getElementById(b+"_li").className!="currentLink-bottom"){track_comScore("seo_text_tabs_in_footer")}document.getElementById("tab"+b).style.display="";for(var a=1;a<=c;a++){if(document.getElementById("tab"+a)&&a!=b){document.getElementById("tab"+a).style.display="none";document.getElementById(a+"_link").style="";document.getElementById(a+"_li").className=""}}}function setBudgetList(c,f,a){var b="";var e="";var d="S";if(c&&c=="R"){d="R"}else{if(c&&(c=="B"||c=="S")){d=="B"}else{if(c&&(c.value=="B"||c.value=="S")){d=="B"}else{if(c&&(c.value=="R")){d="R"}}}}if(document.getElementById(f)){b=document.getElementById(f).value}if(document.getElementById(a)){e=document.getElementById(a).value}if(d=="S"&&f&&a){ajaxService.getBuyBudgetMap(function(m){DWRUtil.removeAllOptions(f);DWRUtil.removeAllOptions(a);dwr.util.addOptions(f,[{name:"Min",id:"-1"}],"id","name");dwr.util.addOptions(a,[{name:"Max",id:"-1"}],"id","name");var g=m.length;for(var k=0;k<g;++k){if(k in m){var h=m[k];var o=h.split("_");var j=document.createElement("option");var l=document.createElement("option");if(document.getElementById(f)){document.getElementById(f).options.add(j)}if(document.getElementById(a)){document.getElementById(a).options.add(l)}if(b&&o[0]&&o[0]==b){j.selected=true}if(e&&o[0]&&o[0]==e){l.selected=true}j.text=o[1];j.value=o[0];l.text=o[1];l.value=o[0]}}})}else{if(d=="R"&&f&&a){ajaxService.getRentBudgetMap(function(m){DWRUtil.removeAllOptions(f);DWRUtil.removeAllOptions(a);dwr.util.addOptions(f,[{name:"Min",id:"-1"}],"id","name");dwr.util.addOptions(a,[{name:"Max",id:"-1"}],"id","name");var g=m.length;for(var k=0;k<g;++k){if(k in m){var h=m[k];var o=h.split("_");var j=document.createElement("option");var l=document.createElement("option");document.getElementById(f).options.add(j);document.getElementById(a).options.add(l);if(b&&o[0]&&o[0]==b){j.selected=true}if(e&&o[0]&&o[0]==e){l.selected=true}j.text=o[1];j.value=o[0];l.text=o[1];l.value=o[0]}}})}}}function setLhsTitle(a,b){if($("#"+a+" .lhsRoundBox .lhsHeading").length){$("#${itm} .lhsRoundBox .lhsHeading").html(b)}}function getCountries(a){var b=[];for(var c in a){if(a.hasOwnProperty(c)){b.push(c)}}return b}function hideFlashModel(){$("#shoshkeleMask").hide();$("#shoshkeleModal").hide();ieversion=ieversion();if(ieversion==-1||ieversion!=7){$("body").css({"overflow-x":"auto"})}}function getIeversion(){var a=-1;if(/MSIE (\d+\.\d+);/.test(navigator.userAgent)){a=new Number(RegExp.$1)}return a}function getIeversion(){var a=-1;if(/MSIE (\d+\.\d+);/.test(navigator.userAgent)){a=new Number(RegExp.$1)}return a}function loginError(){var a='<img src="<%=Constant.IMAGEROOTURL%>icons/icn_error.gif" alt="" align="absmiddle" />';var b=true;try{b=(dwr!=undefined)}catch(c){b=false}if(b){dwr.engine.setTextHtmlHandler(function(){alert("Your session has expired, please login again.");document.location="<%=Constant.CONTEXTROOTURL%>login.html?login_error=2"})}};
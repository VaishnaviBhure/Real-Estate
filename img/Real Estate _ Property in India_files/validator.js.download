var ALERT=1;var TEXT=2;var GLOBAL=4;var DISPLAYTYPE="block";function Validator(a,b){this.form=a;this.rules=b;this.method=TEXT;this.i=0;this.focus="";this.status=true;this.globalDiv="";this.errors;if(this.displaytype==null||this.displaytype==undefined||this.displaytype==""){this.displaytype=DISPLAYTYPE}this.validate=function(h){this.errors=new Object();var q=new Array();var c=true;for(var k in this.rules.fields){var l=this.rules.fields[k];var m="";var g="";var r="";var d=true;for(var f in l){var p=l[f];d=this[f](k,p);c=c&d;m=p.okDiv;g=p.errorDiv;r=p.failedDiv;if(d==false){if(this.focus==""){this.focus=k}break}}if(d==true&&this.method&TEXT){if(m!=""){document.getElementById(m).style.display="none"}if(r!=""){document.getElementById(r).style.display="none"}if(g!=""&&document.getElementById(g)!=null){document.getElementById(g).style.display="none";if($("#"+k)){$("#"+k).removeClass("borderErrRed")}else{if(document.getElementById(k)){document.getElementById(k).classList.remove("borderErrRed")}}}}if(h==false&&c==false){break}}if(c==false){if(this.method&ALERT){this.showAlert();this.form[this.focus].focus()}if(this.method&TEXT){this.showText();if(this.form[this.focus]=="[object RadioNodeList]"||this.form[this.focus]=="[object HTMLCollection]"||this.form[this.focus]=="[object NodeList]"||(this.form[this.focus]=="[object]"&&this.form[this.focus].length!=undefined&&this.form[this.focus].type==undefined)){try{var o=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;if(!o){this.form[this.focus][0].focus()}}catch(n){}}else{var o=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;if(!o){this.form[this.focus].focus()}}}if(this.method&GLOBAL){this.showGlobal()}}return c};this.trim=function(c){return c.replace(/^\s*/,"").replace(/\s*$/,"")};this.required=function(g,f){var k=this.form[g];if(k!=undefined){if(k=="[object RadioNodeList]"||k=="[object HTMLCollection]"||k=="[object NodeList]"||(k=="[object]"&&k.length!=undefined&&k.type==undefined)){var m=false;for(var h=0;h<k.length;h++){if(k[h].checked){m=true}}if(!m){this.errors[k[0].name]="required";return false}}else{if(k.type=="radio"&&!k.checked){this.errors[k.name]="required";return false}if(k.type=="checkbox"&&!k.checked){this.errors[k.name]="required";return false}if(k.type=="text"||k.type=="textarea"||k.type=="file"||k.type=="select-one"||k.type=="select-multiple"||k.type=="radio"||k.type=="password"||k.type=="hidden"){var l="";if(k.type=="select-multiple"){var d=0;for(var j=0;j<k.options.length;j++){if(k.options[j].selected==true&&(k.options[j].value!="-1")){d++}}if(d>0){l=k.value}else{l=""}}else{if(k.type=="select-one"){var e=k.selectedIndex;if(e>=0){l=k.options[e].value;if(l==-1){l=""}}}else{l=k.value}}if((this.trim(l)).length==0){this.errors[k.name]="required";return false}}}}return true};this.requiredif=function(f,k){var j=this.form[f];var g=this.form[k.args];var c=false;var h=false;var e=false;if(j.type=="text"||j.type=="textarea"||j.type=="password"){if(Trim(j.value).length>0){h=true}}if(j.type=="select-one"){var d=j.selectedIndex;if(d>=0){if(j.options[d].value!=-1){h=true}}}if(j.type=="checkbox"){h=j.checked}if(g.type=="text"||g.type=="textarea"||g.type=="password"){if(Trim(g.value).length>0){e=true}}if(g.type=="select-one"){var d=g.selectedIndex;if(d>=0){if(g.options[d].value!=-1){e=true}}}if(g.type=="checkbox"){e=g.checked}if(h&&!e){this.errors[j.name]="requiredif";return false}return true};this.matchfields=function(e,h){var g=this.form[e];var f;var d=h.args;var c=true;if(d.indexOf("-")!=-1&&d.split("-")[1]=="unequal"){c=false;f=this.form[d.split("-")[0]]}else{f=this.form[d]}if((g.type=="text"||g.type=="password")&&(f.type=="text"||f.type=="password")){if(g.value!=f.value&&c){this.errors[g.name]="matchfields";return false}else{if(g.value==f.value&&!c){this.errors[g.name]="matchfields";return false}}}return true};this.minlength=function(d,g){var j=this.form[d];var e=g.args;var f="";if(j&&(j.type=="text"||j.type=="textarea"||j.type=="password")){if(this.trim(j.value).length<e){this.errors[j.name]="minlength";return false}}if(j&&j.type=="select-multiple"){var h=0;for(var k=0;k<j.options.length;k++){if(j.options[k].selected==true){h++}}if(h<e){this.errors[j.name]="minlength";return false}}return true};this.maxlength=function(d,g){var j=this.form[d];var e=g.args;var f="";if(j&&(j.type=="text"||j.type=="textarea"||j.type=="password")){if(j.value.length>e){this.errors[j.name]="maxlength";return false}}if(j&&j.type=="select-multiple"){var h=0;for(var k=0;k<j.options.length;k++){if(j.options[k].selected==true){h++}}if(h>e){this.errors[j.name]="maxlength";return false}}return true};this.validemail=function(e,f){var g=this.form[e];if(g&&g.type=="text"){var d=new RegExp("^[0-9a-zA-Z]+([0-9a-zA-Z-_]*[.]?)*([0-9a-zA-Z]+)@([0-9a-zA-Z-_]+[.])+([a-zA-Z]){2,7}$");var c=(g.value).toLowerCase();if(!d.exec(this.trim(g.value))){this.errors[g.name]="validemail";return false}else{if((c).indexOf("@timesjobs.com")>1||(c).indexOf("@timesjob.com")>1){this.errors[g.name]="validemail";return false}}}return true};this.validwebsiteurl=function(d,e){var g=this.form[d];if(g.type=="text"){var f=/^(((ht|f){1}(tp:[/][/]){1})|((www.){1}))[-a-zA-Z0-9@:%_\+.~#?&//=]+$/;var c=this.trim((g.value).toLowerCase());if(c.length>0&&f.test(c)==false){this.errors[g.name]="validwebsiteurl";return false}}return true};this.mask=function(e,f){var g=this.form[e];var d=f.args;if(g.type=="text"||g.type=="textarea"||g.type=="password"){var c=new RegExp(d);if(!c.exec(g.value)){this.errors[g.name]="mask";return false}}return true};Object.size=function(d){var c=0;for(key in d){if(d.hasOwnProperty(key)){c++}}return c};this.numOfDistinctChars=function(f){var g=new Object;var e=f.length;for(var c=0;c<e;c++){var d=f.charAt(c);g[d]=(isNaN(g[d])?1:g[d]+1)}return Object.size(g)};this.validateMBUserName=function(f,g){var h=this.form[f];var e=g.args;if(h.type=="text"){var j=Trim(h.value);var d=/^[a-zA-Z ]*$/;var c=d.exec(j);if(!d.exec(j)){this.errors[h.name]="validateMBUserName";this.rules.fields[h.name][this.errors[h.name]]["errorMessage"]='<span class="arrow"></span>Numbers or Special characters not allowed.';return false}}return true};this.validateMBUserEmail=function(g,x){var f=this.form[g];var h=x.args;if(f.type=="text"){var u=Trim(f.value);var l=/^[a-zA-Z0-9]/;if(!l.exec(u)){this.errors[f.name]="validateMBUserEmail";this.rules.fields[f.name][this.errors[f.name]]["errorMessage"]='<span class="arrow"></span>Please enter valid Email Id.';return false}var k=/^[a-zA-Z0-9]*$/;if(k.exec(u)){this.errors[f.name]="validateMBUserEmail";this.rules.fields[f.name][this.errors[f.name]]["errorMessage"]='<span class="arrow"></span>Please enter valid Email Id. ';return false}var r=/.*^[a-zA-Z0-9_.@-]*$.*/;if(!r.exec(u)){this.errors[f.name]="validateMBUserEmail";this.rules.fields[f.name][this.errors[f.name]]["errorMessage"]='<span class="arrow"></span>Please enter valid Email Id. ';return false}var e=Trim(f.value).split("@")[1].split(".com");var n=/.*([\._]){2}.*/;if(n.exec(u)||(e.length>2)){this.errors[f.name]="validateMBUserEmail";this.rules.fields[f.name][this.errors[f.name]]["errorMessage"]='<span class="arrow"></span>Please enter valid Email Id. ';return false}var q=/(.+)@$/;if(q.exec(u)){this.errors[f.name]="validateMBUserEmail";this.rules.fields[f.name][this.errors[f.name]]["errorMessage"]='<span class="arrow"></span>Please enter valid Email Id. ';return false}if(u.indexOf("@")<2||u.indexOf("@")>50){this.errors[f.name]="validateMBUserEmail";this.rules.fields[f.name][this.errors[f.name]]["errorMessage"]='<span class="arrow"></span>Please enter valid Email Id. ';return false}if(u.indexOf("@")!=-1){var c=u.substring(u.indexOf("@")+1,u.length);var s=c.split(".");var y=s.length;if(y>4||y==1){this.errors[f.name]="validateMBUserEmail";this.rules.fields[f.name][this.errors[f.name]]["errorMessage"]='<span class="arrow"></span>Please enter valid Email Id. ';return false}var j=/^(.+)@((.+){2,})\.(.+){2,}$/;if(!j.exec(u)){this.errors[f.name]="validateMBUserEmail";this.rules.fields[f.name][this.errors[f.name]]["errorMessage"]='<span class="arrow"></span>Please enter valid Email Id. ';return false}if(y>2){var w=/^(.+)@((.+){2,})\.((.+){2,})\.(.+)$/;if(!w.exec(u)){this.errors[f.name]="validateMBUserEmail";this.rules.fields[f.name][this.errors[f.name]]["errorMessage"]='<span class="arrow"></span>Please enter valid Email Id. ';return false}if(y>3){var p=/^(.+)@((.+){2,})\.((.+){2,})\.((.+){1,})\.(.+)$/;if(!p.exec(u)){this.errors[f.name]="validateMBUserEmail";this.rules.fields[f.name][this.errors[f.name]]["errorMessage"]='<span class="arrow"></span>Please enter valid Email Id. ';return false}}}}var o=/.*([\._@-]){2}.*/;if(o.exec(u)){this.errors[f.name]="validateMBUserEmail";this.rules.fields[f.name][this.errors[f.name]]["errorMessage"]='<span class="arrow"></span>Please enter valid Email Id. ';return false}var d=new RegExp("^[0-9a-zA-Z]+([0-9a-zA-Z_-]*[.]?)*([0-9a-zA-Z]+)@([0-9a-zA-Z-_]+[.])+([a-zA-Z]*)$");if(!d.exec(Trim(u))){this.errors[f.name]="validateMBUserEmail";this.rules.fields[f.name][this.errors[f.name]]["errorMessage"]='<span class="arrow"></span>Please enter valid Email Id. ';return false}var t=new RegExp("^[0-9a-zA-Z]+([0-9a-zA-Z_-]*[.]?)*([0-9a-zA-Z]+)@([0-9a-zA-Z-]+[.])+([a-zA-Z]){2,7}$");var v=(u).toLowerCase();if(!t.exec(Trim(u))){this.errors[f.name]="validateMBUserEmail";this.rules.fields[f.name][this.errors[f.name]]["errorMessage"]='<span class="arrow"></span>Please enter valid Email Id. ';return false}}return true};this.validateMBUserMobile=function(f,g){var h=this.form[f];var e=g.args;if(h.type=="text"){var j=h.value;var d=/^[0]/;var c=d.exec(j);if(d.exec(j)){this.errors[h.name]="validateMBUserMobile";if(e&&e.length==0||e=="+91"){this.rules.fields[h.name][this.errors[h.name]]["errorMessage"]='<span class="arrow"></span>Mobile no. should be 10 digits.'}else{this.rules.fields[h.name][this.errors[h.name]]["errorMessage"]='<span class="arrow"></span>Mobile no. should be 8 digits.'}return false}if(e!=null){if(e.length==0||e=="+91"){var k=/^[^6789]/;if(k.exec(j)){this.errors[h.name]="validateMBUserMobile";this.rules.fields[h.name][this.errors[h.name]]["errorMessage"]='<span class="arrow"></span>Mobile no. should be 10 digits';return false}}}if(this.numOfDistinctChars(j)<2){this.errors[h.name]="validateMBUserMobile";if(e&&e.length==0||e=="+91"){this.rules.fields[h.name][this.errors[h.name]]["errorMessage"]='<span class="arrow"></span>Please enter a valid number.'}else{this.rules.fields[h.name][this.errors[h.name]]["errorMessage"]='<span class="arrow"></span>Please enter a valid number.'}return false}}return true};this.validateMBUserTel=function(d,e){var f=this.form[d];var c=e.args;if(f.type=="text"){var g=f.value;if(this.numOfDistinctChars(g)<2){this.errors[f.name]="validateMBUserTel";if(c&&c.length==0||c=="+91"){this.rules.fields[f.name][this.errors[f.name]]["errorMessage"]='<span class="arrow"></span>Mobile no. should be 10 digits'}else{this.rules.fields[f.name][this.errors[f.name]]["errorMessage"]='<span class="arrow"></span>Mobile no. should be 8 digits'}return false}}return true};this.validateMBUserMessage=function(e,f){var g=this.form[e];var d=f.args;if(g.type=="text"||g.type=="textarea"){var h=g.value;var c=/.*([^a-zA-Z0-9 ]){4}.*/;if(c.exec(h)){this.errors[g.name]="validateMBUserMessage";this.rules.fields[g.name][this.errors[g.name]]["errorMessage"]='<span class="arrow"></span>More than 3 special characters are not allowed consecutively.';return false}var j=/.*([^a-zA-Z0-9 ])\1.*/;if(j.exec(h)){this.errors[g.name]="validateMBUserMessage";this.rules.fields[g.name][this.errors[g.name]]["errorMessage"]='<span class="arrow"></span>Same special character is not allowed consecutively.';return false}}return true};this.showAlert=function(){var e=new Array();var d=0;for(var c in this.errors){if(d==0){this.focus=c}d++;e.push(this.rules.fields[c][this.errors[c]]["errorMessage"])}};this.showGlobal=function(){var d=new Array();for(var c in this.errors){d.push(this.rules.fields[c][this.errors[c]]["errorMessage"])}if(this.globalDiv!=""){document.getElementById(this.globalDiv).innerHTML=d.join("<br>")}};this.showText=function(){var g=new Array();for(var d in this.errors){var h=this.rules.fields[d][this.errors[d]]["errorDiv"];var c=this.rules.fields[d][this.errors[d]]["failedDiv"];var k=this.rules.fields[d][this.errors[d]]["okDiv"];var f=this.rules.fields[d][this.errors[d]]["errorMessage"];if($(".errorMsg").length>0){$(".errorMsg").hide()}if($("#termsAndConditions.errors").length>0){$("#termsAndConditions.errors").hide()}if($("#"+d)!=null&&$("#"+d)!="undefined"){try{if(this.form.name.indexOf("registrationForm")<0){$("#"+d).addClass("borderErrRed")}}catch(j){}$(".err_msg").delay(5000).fadeOut("slow");$(".err_msg_default").delay(2000).fadeOut("slow");$(".errorMsg").delay(5000).fadeOut("slow");$(".errorMsgBlock").delay(5000).fadeOut("slow");$(".selectPkgError").delay(5000).fadeOut("slow")}document.getElementById(h).innerHTML=f;try{if(this.form.name.indexOf("registrationForm")>-1){$("#"+h).append("<span class='errorIcon' style='display:block;'></span>")}}catch(j){}document.getElementById(h).style.display=this.displaytype;if(document.getElementById(c)!=undefined&&document.getElementById(c)!=null){document.getElementById(c).style.display=""}if(document.getElementById(k)!=undefined&&document.getElementById(k)!=null){document.getElementById(k).style.display="none"}this.rules.fields[d][this.errors[d]]["errorMessage"]}};this.checkNumeric=function(c){var d=this.form[c];if(d.type=="text"){if(isNaN(d.value)){this.errors[d.name]="checkNumeric";return false}}return true};this.validateWholeNumber=function(f){var h="0123456789";var e=true;var c;var g=this.form[f];if(g.type=="text"){var d=g.value;for(i=0;i<d.length&&e==true;i++){c=d.charAt(i);if(h.indexOf(c)==-1){this.errors[g.name]="validateWholeNumber";e=false}}}return e};this.validateBothFields=function(d,f){var g=this.form[d];var h=f.args;var e=g.value;var c=this.form[h].value;if(e.length==0&&c.length==0){this.errors[g.name]="validateBothFields";return false}return true};this.validateBothComboFields=function(d,f){var g=this.form[d];var h=f.args;var e=g.value;var c=this.form[h].value;if((e.length==0&&c.length==0)||(e==-1&&c==-1)){this.errors[g.name]="validateBothComboFields";return false}return true};this.compareBothFields=function(d,f){var g=this.form[d];var h=f.args;var e=g.value;var c=this.form[h].value;if(e.length>0&&c.length>0){if(parseInt(e)>parseInt(c)){this.errors[g.name]="compareBothFields";return false}}return true};this.compareBudgetFields=function(f,g){var h=this.form[f];if(h.type=="select-one"){var k=g.args;var e=h.selectedIndex;var d=this.form[k].selectedIndex;if((d<e)&(d!=0)){this.errors[h.name]="compareBudgetFields";var c=this.form[k].selectedIndex;f.selectedIndex="0";return false}}return true};this.checkBudgetFields=function(f,g){var h=this.form[f];if(h.type=="select-one"){var k=g.args;var e=h.selectedIndex;var d=this.form[k].selectedIndex;if((d==0)||(e==0)){this.errors[h.name]="checkBudgetFields";var c=this.form[k].selectedIndex;f.selectedIndex="0";return false}}return true}}function Rules(){this.fields=new Object()}Rules.prototype={};Rules.prototype.addRule=function(a,c,b){if(typeof(this.fields[a])=="undefined"){this.fields[a]=new Object()}this.fields[a][c]=b};